
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	C:\DOCUME~1\p\MEUSDO~1\MATLAB\t_inst.asm
	Object File:	C:\DOCUME~1\p\MEUSDO~1\MATLAB\t_inst.hex
	List File:	C:\DOCUME~1\p\MEUSDO~1\MATLAB\t_inst.lst



 Line  I  Addr  Code            Source

    1:		N      0000	ORG 0000H ; First ADDR
    2:	  0000	02 00 48	JMP INI
    3:		N      003B	ORG 003BH ; ADDR after interrupt space
    4:	  003B	75 90 FF	INITIAL: MOV P1, #0FFH ; inform JMP OK (verify it)
    5:	  003E	00		NOP
    6:	  003F	00		NOP
    7:	  0040	00		NOP
    8:	  0041	02 00 50	JMP JMP_BACK; backing of JMP
    9:	  0044			LABEL_CALL:
   10:	  0044	75 90 FF	MOV P1, #0FFH
   11:	  0047	22		RET
   12:	  0048	75 C8 FF	INI: MOV 0C8H, #0FFH ; Setting P1EN - output
   13:
   14:
   15:
   16:
   17:
   18:
   19:
   20:
   21:
   22:
   23:
   24:
   25:
   26:
   27:
   28:
   29:
   30:
   31:
   32:
   33:
   34:
   35:
   36:
   37:
   38:
   39:
   40:
   41:	  004B	75 90 02	MOV P1, #02H ; JMP (long jmp, short jmp, depends..)
   42:	  004E	80 EB		JMP INITIAL ; jmp to begin of code, 3xNOP and JMP BACK to next line
   43:	  0050	75 90 FE	JMP_BACK: MOV P1, #0FEH ; inform JMP BACK OK (verify it)

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44:
   45:
   46:
   47:
   48:
   49:
   50:
   51:
   52:
   53:
   54:
   55:
   56:
   57:
   58:
   59:
   60:
   61:
   62:
   63:
   64:
   65:
   66:
   67:
   68:
   69:
   70:
   71:
   72:
   73:
   74:
   75:
   76:
   77:
   78:
   79:
   80:
   81:	  0053	75 90 20	MOV P1, #20H ; JB and SETB
   82:	  0056	02 00 5F	JMP INI_JB_3
   83:	  0059	75 90 FF	LABEL_JB_3: MOV P1, #0FFH
   84:	  005C	02 00 67	JMP BACK_JB_3
   85:	  005F	75 90 3E	INI_JB_3: MOV P1, #03EH
   86:	  0062	D2 3E		SETB 03EH
   87:	  0064	20 3E F2	JB 03EH, LABEL_JB_3
   88:	  0067	75 90 FE	BACK_JB_3: MOV P1, #0FEH
   89:
   90:
   91:
   92:
   93:
   94:
   95:
   96:
   97:
   98:
   99:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:
  101:
  102:
  103:
  104:
  105:
  106:
  107:
  108:
  109:
  110:
  111:
  112:
  113:
  114:
  115:
  116:
  117:
  118:
  119:
  120:
  121:	  006A	75 90 D5	MOV P1, #0D5H ; DJNZ_D
  122:	  006D	75 90 56	MOV P1, #056H
  123:	  0070	75 90 D9	MOV P1, #0D9H
  124:	  0073	75 56 D9	MOV 056H, #0D9H
  125:	  0076	00		LABEL_DJNZ_4: NOP
  126:	  0077	D5 56 FC	DJNZ 056H, LABEL_DJNZ_4; loop nop data_1 times
  127:	  007A	85 56 90	MOV P1, 056H ; Check in 10 cycles - P1 must have previous P1 -1
  128:
  129:
  130:
  131:
  132:
  133:
  134:
  135:
  136:
  137:
  138:
  139:
  140:
  141:
  142:
  143:
  144:
  145:
  146:
  147:
  148:
  149:
  150:
  151:
  152:
  153:
  154:
  155:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4



 Line  I  Addr  Code            Source

  156:
  157:
  158:
  159:
  160:
  161:	  007D	75 90 20	MOV P1, #20H ; JB and SETB
  162:	  0080	02 00 89	JMP INI_JB_5
  163:	  0083	75 90 FF	LABEL_JB_5: MOV P1, #0FFH
  164:	  0086	02 00 91	JMP BACK_JB_5
  165:	  0089	75 90 72	INI_JB_5: MOV P1, #072H
  166:	  008C	D2 72		SETB 072H
  167:	  008E	20 72 F2	JB 072H, LABEL_JB_5
  168:	  0091	75 90 FE	BACK_JB_5: MOV P1, #0FEH
  169:
  170:
  171:
  172:
  173:
  174:
  175:
  176:
  177:
  178:
  179:
  180:
  181:
  182:
  183:
  184:
  185:
  186:
  187:
  188:
  189:
  190:
  191:
  192:
  193:
  194:
  195:
  196:
  197:
  198:
  199:
  200:
  201:	  0094	75 90 05	MOV P1, #05H ; INC_D
  202:	  0097	75 90 78	MOV P1, #078H
  203:	  009A	74 78		MOV A, #078H
  204:	  009C	04		INC A
  205:	  009D	F5 90		MOV P1, A
  206:
  207:
  208:
  209:
  210:
  211:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5



 Line  I  Addr  Code            Source

  212:
  213:
  214:
  215:
  216:
  217:
  218:
  219:
  220:
  221:
  222:
  223:
  224:
  225:
  226:
  227:
  228:
  229:
  230:
  231:
  232:
  233:
  234:
  235:
  236:
  237:
  238:
  239:
  240:
  241:	  009F	75 90 C4	MOV P1, #0C4H ; SWAP_A
  242:	  00A2	75 90 20	MOV P1, #020H
  243:	  00A5	74 20		MOV A,  #020H
  244:	  00A7	C4		SWAP A
  245:	  00A8	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
  246:
  247:
  248:
  249:
  250:
  251:
  252:
  253:
  254:
  255:
  256:
  257:
  258:
  259:
  260:
  261:
  262:
  263:
  264:
  265:
  266:
  267:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 6



 Line  I  Addr  Code            Source

  268:
  269:
  270:
  271:
  272:
  273:
  274:
  275:
  276:
  277:
  278:
  279:
  280:
  281:	  00AA	75 90 A4	MOV P1, #0A4H ; MUL_A_B
  282:	  00AD	75 90 29	MOV P1, #029H
  283:	  00B0	75 90 06	MOV P1, #06H
  284:	  00B3	74 29		MOV A,  #029H
  285:	  00B5	75 F0 06	MOV B,  #06H
  286:	  00B8	A4		MUL AB
  287:	  00B9	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
  288:	  00BB	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
  289:
  290:
  291:
  292:
  293:
  294:
  295:
  296:
  297:
  298:
  299:
  300:
  301:
  302:
  303:
  304:
  305:
  306:
  307:
  308:
  309:
  310:
  311:
  312:
  313:
  314:
  315:
  316:
  317:
  318:
  319:
  320:
  321:	  00BE	75 90 16	MOV P1, #016H ; DEC_R0
  322:	  00C1	75 90 6A	MOV P1, #06AH
  323:	  00C4	75 90 8C	MOV P1, #08CH

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 7



 Line  I  Addr  Code            Source

  324:	  00C7	78 6A		MOV R0, #06AH
  325:	  00C9	75 6A 8C	MOV 06AH, #08CH
  326:	  00CC	16		DEC @R0
  327:	  00CD	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
  328:
  329:
  330:
  331:
  332:
  333:
  334:
  335:
  336:
  337:
  338:
  339:
  340:
  341:
  342:
  343:
  344:
  345:
  346:
  347:
  348:
  349:
  350:
  351:
  352:
  353:
  354:
  355:
  356:
  357:
  358:
  359:
  360:
  361:	  00CF	75 90 D0	MOV P1, #0D0H ; POP
  362:	  00D2	75 90 55	MOV P1, #055H
  363:	  00D5	75 90 A7	MOV P1, #0A7H
  364:	  00D8	85 81 90	MOV P1, SP             ; get actual SP
  365:	  00DB	D0 55		POP 055H
  366:	  00DD	85 81 90	MOV P1, SP             ; Check SP - 5 cycles - SP anterior - 1
  367:	  00E0	A8 81		MOV R0, SP
  368:	  00E2	76 A7		MOV @R0, #0A7H
  369:	  00E4	86 90		MOV P1, @R0            ; get actual value
  370:	  00E6	85 55 90	MOV P1, 055H; compare values - 8 cycles
  371:
  372:
  373:
  374:
  375:
  376:
  377:
  378:
  379:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 8



 Line  I  Addr  Code            Source

  380:
  381:
  382:
  383:
  384:
  385:
  386:
  387:
  388:
  389:
  390:
  391:
  392:
  393:
  394:
  395:
  396:
  397:
  398:
  399:
  400:
  401:	  00E9	75 90 53	MOV P1, #053H ; ANL_D_DATA
  402:	  00EC	75 90 64	MOV P1, #064H
  403:	  00EF	75 90 64	MOV P1, #064H
  404:	  00F2	75 90 C0	MOV P1, #0C0H
  405:	  00F5	75 64 64	MOV 064H, #064H
  406:	  00F8	53 64 C0	ANL 064H, #0C0H
  407:	  00FB	85 64 90	MOV P1, 064H  ;check P1 (operand3 and operand4) -> 7 cycles
  408:
  409:
  410:
  411:
  412:
  413:
  414:
  415:
  416:
  417:
  418:
  419:
  420:
  421:
  422:
  423:
  424:
  425:
  426:
  427:
  428:
  429:
  430:
  431:
  432:
  433:
  434:
  435:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 9



 Line  I  Addr  Code            Source

  436:
  437:
  438:
  439:
  440:
  441:	  00FE	75 90 70	MOV P1, #70H ; JNZ
  442:	  0101	75 90 E8	MOV P1, #0E8H
  443:	  0104	02 01 0D	JMP INI_JNZ_12
  444:	  0107	75 90 FF	LABEL_JNZ_12: MOV P1, #0FFH
  445:	  010A	02 01 14	JMP BACK_JNZ_12
  446:	  010D	75 90 E8	INI_JNZ_12: MOV P1, #0E8H
  447:	  0110	74 E8		MOV A, #0E8H
  448:	  0112	70 F3		JNZ LABEL_JNZ_12
  449:	  0114	75 90 FE	BACK_JNZ_12: MOV P1, #0FEH
  450:
  451:
  452:
  453:
  454:
  455:
  456:
  457:
  458:
  459:
  460:
  461:
  462:
  463:
  464:
  465:
  466:
  467:
  468:
  469:
  470:
  471:
  472:
  473:
  474:
  475:
  476:
  477:
  478:
  479:
  480:
  481:	  0117	75 90 10	MOV P1, #10H ; JBC
  482:	  011A	02 01 23	JMP INI_JBC_13
  483:	  011D	75 90 FF	LABEL_JBC_13: MOV P1, #0FFH ; inform JMP OK
  484:	  0120	02 01 32	JMP BACK_JBC_13
  485:	  0123	75 90 27	INI_JBC_13: MOV P1, #027H
  486:	  0126	75 90 3B	MOV P1, #03BH
  487:	  0129	75 90 34	MOV P1, #034H
  488:	  012C	75 27 34	MOV 027H, #034H
  489:	  012F	10 3B EB	JBC 03BH, LABEL_JBC_13
  490:	  0132	75 90 FE	BACK_JBC_13: MOV P1, #0FEH ; inform JMP BACK OK
  491:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 10



 Line  I  Addr  Code            Source

  492:
  493:
  494:
  495:
  496:
  497:
  498:
  499:
  500:
  501:
  502:
  503:
  504:
  505:
  506:
  507:
  508:
  509:
  510:
  511:
  512:
  513:
  514:
  515:
  516:
  517:
  518:
  519:
  520:
  521:	  0135	75 90 B2	MOV P1, #0B2H ; CPL_BIT
  522:	  0138	75 90 28	MOV P1, #028H
  523:	  013B	75 90 BA	MOV P1, #0BAH
  524:	  013E	75 90 41	MOV P1, #041H
  525:	  0141	75 28 BA	MOV 028H, #0BAH
  526:	  0144	B2 41		CPL 041H ; addr_2 must change to b1
  527:	  0146	85 28 90	MOV  P1, 028H           ; Check in 6 cycles
  528:
  529:
  530:
  531:
  532:
  533:
  534:
  535:
  536:
  537:
  538:
  539:
  540:
  541:
  542:
  543:
  544:
  545:
  546:
  547:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 11



 Line  I  Addr  Code            Source

  548:
  549:
  550:
  551:
  552:
  553:
  554:
  555:
  556:
  557:
  558:
  559:
  560:
  561:	  0149	75 90 C0	MOV P1, #0C0H ; PUSH
  562:	  014C	75 90 3F	MOV P1, #03FH
  563:	  014F	75 90 9D	MOV P1, #09DH
  564:	  0152	85 81 90	MOV P1, SP             ; get actual SP
  565:	  0155	A9 81		MOV R1, SP             ; save actual SP
  566:	  0157	75 3F 9D	MOV 03FH, #09DH
  567:	  015A	C0 3F		PUSH 03FH
  568:	  015C	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
  569:	  015F	87 90		MOV P1, @R1
  570:
  571:
  572:
  573:
  574:
  575:
  576:
  577:
  578:
  579:
  580:
  581:
  582:
  583:
  584:
  585:
  586:
  587:
  588:
  589:
  590:
  591:
  592:
  593:
  594:
  595:
  596:
  597:
  598:
  599:
  600:
  601:	  0161	75 90 F4	MOV P1, #0F4H ; CPL_A
  602:	  0164	F5 90		MOV P1, A
  603:	  0166	F4		CPL A

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 12



 Line  I  Addr  Code            Source

  604:	  0167	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have NOT A
  605:
  606:
  607:
  608:
  609:
  610:
  611:
  612:
  613:
  614:
  615:
  616:
  617:
  618:
  619:
  620:
  621:
  622:
  623:
  624:
  625:
  626:
  627:
  628:
  629:
  630:
  631:
  632:
  633:
  634:
  635:
  636:
  637:
  638:
  639:
  640:
  641:	  0169	75 90 C4	MOV P1, #0C4H ; SWAP_A
  642:	  016C	75 90 77	MOV P1, #077H
  643:	  016F	74 77		MOV A,  #077H
  644:	  0171	C4		SWAP A
  645:	  0172	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
  646:
  647:
  648:
  649:
  650:
  651:
  652:
  653:
  654:
  655:
  656:
  657:
  658:
  659:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 13



 Line  I  Addr  Code            Source

  660:
  661:
  662:
  663:
  664:
  665:
  666:
  667:
  668:
  669:
  670:
  671:
  672:
  673:
  674:
  675:
  676:
  677:
  678:
  679:
  680:
  681:	  0174	75 90 45	MOV P1, #045H ; ORL_A_D
  682:	  0177	75 90 AB	MOV P1, #0ABH
  683:	  017A	75 90 21	MOV P1, #021H
  684:	  017D	75 90 33	MOV P1, #033H
  685:	  0180	74 AB		MOV  A,  #0ABH
  686:	  0182	75 33 21	MOV 033H, #021H
  687:	  0185	45 33		ORL  A,  033H
  688:	  0187	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
  689:
  690:
  691:
  692:
  693:
  694:
  695:
  696:
  697:
  698:
  699:
  700:
  701:
  702:
  703:
  704:
  705:
  706:
  707:
  708:
  709:
  710:
  711:
  712:
  713:
  714:
  715:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 14



 Line  I  Addr  Code            Source

  716:
  717:
  718:
  719:
  720:
  721:	  0189	75 90 00	MOV P1, #00H ; NOP
  722:	  018C	00		NOP
  723:
  724:
  725:
  726:
  727:
  728:
  729:
  730:
  731:
  732:
  733:
  734:
  735:
  736:
  737:
  738:
  739:
  740:
  741:
  742:
  743:
  744:
  745:
  746:
  747:
  748:
  749:
  750:
  751:
  752:
  753:
  754:
  755:
  756:
  757:
  758:
  759:
  760:
  761:	  018D	75 90 D0	MOV P1, #0D0H ; POP
  762:	  0190	75 90 6C	MOV P1, #06CH
  763:	  0193	75 90 48	MOV P1, #048H
  764:	  0196	85 81 90	MOV P1, SP             ; get actual SP
  765:	  0199	D0 6C		POP 06CH
  766:	  019B	85 81 90	MOV P1, SP             ; Check SP - 5 cycles - SP anterior - 1
  767:	  019E	A8 81		MOV R0, SP
  768:	  01A0	76 48		MOV @R0, #048H
  769:	  01A2	86 90		MOV P1, @R0            ; get actual value
  770:	  01A4	85 6C 90	MOV P1, 06CH; compare values - 8 cycles
  771:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 15



 Line  I  Addr  Code            Source

  772:
  773:
  774:
  775:
  776:
  777:
  778:
  779:
  780:
  781:
  782:
  783:
  784:
  785:
  786:
  787:
  788:
  789:
  790:
  791:
  792:
  793:
  794:
  795:
  796:
  797:
  798:
  799:
  800:
  801:	  01A7	75 90 D5	MOV P1, #0D5H ; DJNZ_D
  802:	  01AA	75 90 40	MOV P1, #040H
  803:	  01AD	75 90 01	MOV P1, #01H
  804:	  01B0	75 40 01	MOV 040H, #01H
  805:	  01B3	00		LABEL_DJNZ_21: NOP
  806:	  01B4	D5 40 FC	DJNZ 040H, LABEL_DJNZ_21; loop nop data_1 times
  807:	  01B7	85 40 90	MOV P1, 040H ; Check in 10 cycles - P1 must have previous P1 -1
  808:	  01BA	75 90 12	MOV P1, #012H ; CALL
  809:	  01BD	11 44		CALL LABEL_CALL
  810:	  01BF	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
  811:
  812:
  813:
  814:
  815:
  816:
  817:
  818:
  819:
  820:
  821:
  822:
  823:
  824:
  825:
  826:
  827:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 16



 Line  I  Addr  Code            Source

  828:
  829:
  830:
  831:
  832:
  833:
  834:
  835:
  836:
  837:
  838:
  839:
  840:
  841:	  01C2	75 90 A4	MOV P1, #0A4H ; MUL_A_B
  842:	  01C5	75 90 E9	MOV P1, #0E9H
  843:	  01C8	75 90 62	MOV P1, #062H
  844:	  01CB	74 E9		MOV A,  #0E9H
  845:	  01CD	75 F0 62	MOV B,  #062H
  846:	  01D0	A4		MUL AB
  847:	  01D1	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
  848:	  01D3	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
  849:
  850:
  851:
  852:
  853:
  854:
  855:
  856:
  857:
  858:
  859:
  860:
  861:
  862:
  863:
  864:
  865:
  866:
  867:
  868:
  869:
  870:
  871:
  872:
  873:
  874:
  875:
  876:
  877:
  878:
  879:
  880:
  881:	  01D6	75 90 23	MOV P1, #023H ; RL_A
  882:	  01D9	75 90 63	MOV P1, #063H
  883:	  01DC	74 63		MOV A, #063H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 17



 Line  I  Addr  Code            Source

  884:	  01DE	23		RL A
  885:	  01DF	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
  886:
  887:
  888:
  889:
  890:
  891:
  892:
  893:
  894:
  895:
  896:
  897:
  898:
  899:
  900:
  901:
  902:
  903:
  904:
  905:
  906:
  907:
  908:
  909:
  910:
  911:
  912:
  913:
  914:
  915:
  916:
  917:
  918:
  919:
  920:
  921:	  01E1	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
  922:	  01E4	75 90 15	MOV P1, #015H
  923:	  01E7	75 90 28	MOV P1, #028H
  924:	  01EA	75 90 60	MOV P1, #060H
  925:	  01ED	74 15		MOV A, #015H
  926:	  01EF	78 28		MOV R0, #028H
  927:	  01F1	75 28 60	MOV 028H, #060H
  928:	  01F4	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
  929:	  01F5	F5 90		MOV P1, A                ; Check in 9 cycles
  930:	  01F7	86 90		MOV P1, @R0           ; Check in 10 cycles
  931:
  932:
  933:
  934:
  935:
  936:
  937:
  938:
  939:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 18



 Line  I  Addr  Code            Source

  940:
  941:
  942:
  943:
  944:
  945:
  946:
  947:
  948:
  949:
  950:
  951:
  952:
  953:
  954:
  955:
  956:
  957:
  958:
  959:
  960:
  961:	  01F9	75 90 10	MOV P1, #10H ; JBC
  962:	  01FC	02 02 05	JMP INI_JBC_25
  963:	  01FF	75 90 FF	LABEL_JBC_25: MOV P1, #0FFH ; inform JMP OK
  964:	  0202	02 02 14	JMP BACK_JBC_25
  965:	  0205	75 90 2C	INI_JBC_25: MOV P1, #02CH
  966:	  0208	75 90 67	MOV P1, #067H
  967:	  020B	75 90 45	MOV P1, #045H
  968:	  020E	75 2C 45	MOV 02CH, #045H
  969:	  0211	10 67 EB	JBC 067H, LABEL_JBC_25
  970:	  0214	75 90 FE	BACK_JBC_25: MOV P1, #0FEH ; inform JMP BACK OK
  971:
  972:
  973:
  974:
  975:
  976:
  977:
  978:
  979:
  980:
  981:
  982:
  983:
  984:
  985:
  986:
  987:
  988:
  989:
  990:
  991:
  992:
  993:
  994:
  995:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 19



 Line  I  Addr  Code            Source

  996:
  997:
  998:
  999:
 1000:
 1001:	  0217	75 90 10	MOV P1, #10H ; JBC
 1002:	  021A	02 02 23	JMP INI_JBC_26
 1003:	  021D	75 90 FF	LABEL_JBC_26: MOV P1, #0FFH ; inform JMP OK
 1004:	  0220	02 02 32	JMP BACK_JBC_26
 1005:	  0223	75 90 26	INI_JBC_26: MOV P1, #026H
 1006:	  0226	75 90 33	MOV P1, #033H
 1007:	  0229	75 90 69	MOV P1, #069H
 1008:	  022C	75 26 69	MOV 026H, #069H
 1009:	  022F	10 33 EB	JBC 033H, LABEL_JBC_26
 1010:	  0232	75 90 FE	BACK_JBC_26: MOV P1, #0FEH ; inform JMP BACK OK
 1011:
 1012:
 1013:
 1014:
 1015:
 1016:
 1017:
 1018:
 1019:
 1020:
 1021:
 1022:
 1023:
 1024:
 1025:
 1026:
 1027:
 1028:
 1029:
 1030:
 1031:
 1032:
 1033:
 1034:
 1035:
 1036:
 1037:
 1038:
 1039:
 1040:
 1041:	  0235	75 90 05	MOV P1, #05H ; INC_D
 1042:	  0238	75 90 6C	MOV P1, #06CH
 1043:	  023B	74 6C		MOV A, #06CH
 1044:	  023D	04		INC A
 1045:	  023E	F5 90		MOV P1, A
 1046:
 1047:
 1048:
 1049:
 1050:
 1051:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 20



 Line  I  Addr  Code            Source

 1052:
 1053:
 1054:
 1055:
 1056:
 1057:
 1058:
 1059:
 1060:
 1061:
 1062:
 1063:
 1064:
 1065:
 1066:
 1067:
 1068:
 1069:
 1070:
 1071:
 1072:
 1073:
 1074:
 1075:
 1076:
 1077:
 1078:
 1079:
 1080:
 1081:	  0240	75 90 C4	MOV P1, #0C4H ; SWAP_A
 1082:	  0243	75 90 47	MOV P1, #047H
 1083:	  0246	74 47		MOV A,  #047H
 1084:	  0248	C4		SWAP A
 1085:	  0249	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 1086:
 1087:
 1088:
 1089:
 1090:
 1091:
 1092:
 1093:
 1094:
 1095:
 1096:
 1097:
 1098:
 1099:
 1100:
 1101:
 1102:
 1103:
 1104:
 1105:
 1106:
 1107:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 21



 Line  I  Addr  Code            Source

 1108:
 1109:
 1110:
 1111:
 1112:
 1113:
 1114:
 1115:
 1116:
 1117:
 1118:
 1119:
 1120:
 1121:	  024B	75 90 60	MOV P1, #60H ; JZ
 1122:	  024E	75 90 00	MOV P1, #00H
 1123:	  0251	02 02 5A	JMP INI_JZ_29
 1124:	  0254	75 90 FF	LABEL_JZ_29: MOV P1, #0FFH
 1125:	  0257	02 02 61	JMP BACK_JZ_29
 1126:	  025A	75 90 00	INI_JZ_29: MOV P1, #00H
 1127:	  025D	74 00		MOV A, #00H
 1128:	  025F	60 F3		JZ LABEL_JZ_29
 1129:	  0261	75 90 FE	BACK_JZ_29: MOV P1, #0FEH
 1130:
 1131:
 1132:
 1133:
 1134:
 1135:
 1136:
 1137:
 1138:
 1139:
 1140:
 1141:
 1142:
 1143:
 1144:
 1145:
 1146:
 1147:
 1148:
 1149:
 1150:
 1151:
 1152:
 1153:
 1154:
 1155:
 1156:
 1157:
 1158:
 1159:
 1160:
 1161:	  0264	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 1162:	  0267	75 90 4B	MOV P1, #04BH
 1163:	  026A	75 90 6F	MOV P1, #06FH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 22



 Line  I  Addr  Code            Source

 1164:	  026D	75 4B 6F	MOV 04BH, #06FH
 1165:	  0270	00		LABEL_DJNZ_30: NOP
 1166:	  0271	D5 4B FC	DJNZ 04BH, LABEL_DJNZ_30; loop nop data_1 times
 1167:	  0274	85 4B 90	MOV P1, 04BH ; Check in 10 cycles - P1 must have previous P1 -1
 1168:	  0277	75 90 12	MOV P1, #012H ; CALL
 1169:	  027A	11 44		CALL LABEL_CALL
 1170:	  027C	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 1171:
 1172:
 1173:
 1174:
 1175:
 1176:
 1177:
 1178:
 1179:
 1180:
 1181:
 1182:
 1183:
 1184:
 1185:
 1186:
 1187:
 1188:
 1189:
 1190:
 1191:
 1192:
 1193:
 1194:
 1195:
 1196:
 1197:
 1198:
 1199:
 1200:
 1201:	  027F	75 90 45	MOV P1, #045H ; ORL_A_D
 1202:	  0282	75 90 5F	MOV P1, #05FH
 1203:	  0285	75 90 C3	MOV P1, #0C3H
 1204:	  0288	75 90 70	MOV P1, #070H
 1205:	  028B	74 5F		MOV  A,  #05FH
 1206:	  028D	75 70 C3	MOV 070H, #0C3H
 1207:	  0290	45 70		ORL  A,  070H
 1208:	  0292	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 1209:
 1210:
 1211:
 1212:
 1213:
 1214:
 1215:
 1216:
 1217:
 1218:
 1219:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 23



 Line  I  Addr  Code            Source

 1220:
 1221:
 1222:
 1223:
 1224:
 1225:
 1226:
 1227:
 1228:
 1229:
 1230:
 1231:
 1232:
 1233:
 1234:
 1235:
 1236:
 1237:
 1238:
 1239:
 1240:
 1241:	  0294	75 90 C0	MOV P1, #0C0H ; PUSH
 1242:	  0297	75 90 6A	MOV P1, #06AH
 1243:	  029A	75 90 9E	MOV P1, #09EH
 1244:	  029D	85 81 90	MOV P1, SP             ; get actual SP
 1245:	  02A0	A9 81		MOV R1, SP             ; save actual SP
 1246:	  02A2	75 6A 9E	MOV 06AH, #09EH
 1247:	  02A5	C0 6A		PUSH 06AH
 1248:	  02A7	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 1249:	  02AA	87 90		MOV P1, @R1
 1250:
 1251:
 1252:
 1253:
 1254:
 1255:
 1256:
 1257:
 1258:
 1259:
 1260:
 1261:
 1262:
 1263:
 1264:
 1265:
 1266:
 1267:
 1268:
 1269:
 1270:
 1271:
 1272:
 1273:
 1274:
 1275:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 24



 Line  I  Addr  Code            Source

 1276:
 1277:
 1278:
 1279:
 1280:
 1281:	  02AC	75 90 C4	MOV P1, #0C4H ; SWAP_A
 1282:	  02AF	75 90 64	MOV P1, #064H
 1283:	  02B2	74 64		MOV A,  #064H
 1284:	  02B4	C4		SWAP A
 1285:	  02B5	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 1286:
 1287:
 1288:
 1289:
 1290:
 1291:
 1292:
 1293:
 1294:
 1295:
 1296:
 1297:
 1298:
 1299:
 1300:
 1301:
 1302:
 1303:
 1304:
 1305:
 1306:
 1307:
 1308:
 1309:
 1310:
 1311:
 1312:
 1313:
 1314:
 1315:
 1316:
 1317:
 1318:
 1319:
 1320:
 1321:	  02B7	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 1322:	  02BA	75 90 8F	MOV P1, #08FH
 1323:	  02BD	75 90 D9	MOV P1, #0D9H
 1324:	  02C0	74 8F		MOV A,  #08FH
 1325:	  02C2	75 F0 D9	MOV B,  #0D9H
 1326:	  02C5	A4		MUL AB
 1327:	  02C6	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 1328:	  02C8	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 1329:
 1330:
 1331:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 25



 Line  I  Addr  Code            Source

 1332:
 1333:
 1334:
 1335:
 1336:
 1337:
 1338:
 1339:
 1340:
 1341:
 1342:
 1343:
 1344:
 1345:
 1346:
 1347:
 1348:
 1349:
 1350:
 1351:
 1352:
 1353:
 1354:
 1355:
 1356:
 1357:
 1358:
 1359:
 1360:
 1361:	  02CB	75 90 23	MOV P1, #023H ; RL_A
 1362:	  02CE	75 90 70	MOV P1, #070H
 1363:	  02D1	74 70		MOV A, #070H
 1364:	  02D3	23		RL A
 1365:	  02D4	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 1366:
 1367:
 1368:
 1369:
 1370:
 1371:
 1372:
 1373:
 1374:
 1375:
 1376:
 1377:
 1378:
 1379:
 1380:
 1381:
 1382:
 1383:
 1384:
 1385:
 1386:
 1387:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 26



 Line  I  Addr  Code            Source

 1388:
 1389:
 1390:
 1391:
 1392:
 1393:
 1394:
 1395:
 1396:
 1397:
 1398:
 1399:
 1400:
 1401:	  02D6	75 90 34	MOV P1, #034H ; ADDC_A_DATA
 1402:	  02D9	75 90 EF	MOV P1, #0EFH
 1403:	  02DC	75 90 AB	MOV P1, #0ABH
 1404:	  02DF	74 EF		MOV  A,  #0EFH
 1405:	  02E1	34 AB		ADDC  A,  #0ABH
 1406:	  02E3	F5 90		MOV P1, A               ; check A - 6 cycles
 1407:
 1408:
 1409:
 1410:
 1411:
 1412:
 1413:
 1414:
 1415:
 1416:
 1417:
 1418:
 1419:
 1420:
 1421:
 1422:
 1423:
 1424:
 1425:
 1426:
 1427:
 1428:
 1429:
 1430:
 1431:
 1432:
 1433:
 1434:
 1435:
 1436:
 1437:
 1438:
 1439:
 1440:
 1441:	  02E5	75 90 45	MOV P1, #045H ; ORL_A_D
 1442:	  02E8	75 90 39	MOV P1, #039H
 1443:	  02EB	75 90 8A	MOV P1, #08AH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 27



 Line  I  Addr  Code            Source

 1444:	  02EE	75 90 F2	MOV P1, #0F2H
 1445:	  02F1	74 39		MOV  A,  #039H
 1446:	  02F3	75 F2 8A	MOV 0F2H, #08AH
 1447:	  02F6	45 F2		ORL  A,  0F2H
 1448:	  02F8	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 1449:
 1450:
 1451:
 1452:
 1453:
 1454:
 1455:
 1456:
 1457:
 1458:
 1459:
 1460:
 1461:
 1462:
 1463:
 1464:
 1465:
 1466:
 1467:
 1468:
 1469:
 1470:
 1471:
 1472:
 1473:
 1474:
 1475:
 1476:
 1477:
 1478:
 1479:
 1480:
 1481:	  02FA	75 90 53	MOV P1, #053H ; ANL_D_DATA
 1482:	  02FD	75 90 A5	MOV P1, #0A5H
 1483:	  0300	75 90 8B	MOV P1, #08BH
 1484:	  0303	75 90 58	MOV P1, #058H
 1485:	  0306	75 A5 8B	MOV 0A5H, #08BH
 1486:	  0309	53 A5 58	ANL 0A5H, #058H
 1487:	  030C	85 A5 90	MOV P1, 0A5H  ;check P1 (operand3 and operand4) -> 7 cycles
 1488:
 1489:
 1490:
 1491:
 1492:
 1493:
 1494:
 1495:
 1496:
 1497:
 1498:
 1499:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 28



 Line  I  Addr  Code            Source

 1500:
 1501:
 1502:
 1503:
 1504:
 1505:
 1506:
 1507:
 1508:
 1509:
 1510:
 1511:
 1512:
 1513:
 1514:
 1515:
 1516:
 1517:
 1518:
 1519:
 1520:
 1521:	  030F	75 90 85	MOV P1, #085H ; MOV_D_D
 1522:	  0312	75 90 60	MOV P1, #060H
 1523:	  0315	75 90 33	MOV P1, #033H
 1524:	  0318	75 90 BE	MOV P1, #0BEH
 1525:	  031B	75 60 33	MOV 060H, #033H
 1526:	  031E	85 60 BE	MOV 0BEH, 060H ; addr must have data_1
 1527:	  0321	85 BE 90	MOV P1, 0BEH        ; Check in 7 cycles
 1528:
 1529:
 1530:
 1531:
 1532:
 1533:
 1534:
 1535:
 1536:
 1537:
 1538:
 1539:
 1540:
 1541:
 1542:
 1543:
 1544:
 1545:
 1546:
 1547:
 1548:
 1549:
 1550:
 1551:
 1552:
 1553:
 1554:
 1555:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 29



 Line  I  Addr  Code            Source

 1556:
 1557:
 1558:
 1559:
 1560:
 1561:	  0324	75 90 16	MOV P1, #016H ; DEC_R0
 1562:	  0327	75 90 64	MOV P1, #064H
 1563:	  032A	75 90 0C	MOV P1, #0CH
 1564:	  032D	78 64		MOV R0, #064H
 1565:	  032F	75 64 0C	MOV 064H, #0CH
 1566:	  0332	16		DEC @R0
 1567:	  0333	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 1568:
 1569:
 1570:
 1571:
 1572:
 1573:
 1574:
 1575:
 1576:
 1577:
 1578:
 1579:
 1580:
 1581:
 1582:
 1583:
 1584:
 1585:
 1586:
 1587:
 1588:
 1589:
 1590:
 1591:
 1592:
 1593:
 1594:
 1595:
 1596:
 1597:
 1598:
 1599:
 1600:
 1601:	  0335	75 90 70	MOV P1, #70H ; JNZ
 1602:	  0338	75 90 00	MOV P1, #00H
 1603:	  033B	02 03 44	JMP INI_JNZ_41
 1604:	  033E	75 90 FF	LABEL_JNZ_41: MOV P1, #0FFH
 1605:	  0341	02 03 4B	JMP BACK_JNZ_41
 1606:	  0344	75 90 00	INI_JNZ_41: MOV P1, #00H
 1607:	  0347	74 00		MOV A, #00H
 1608:	  0349	70 F3		JNZ LABEL_JNZ_41
 1609:	  034B	75 90 FE	BACK_JNZ_41: MOV P1, #0FEH
 1610:
 1611:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 30



 Line  I  Addr  Code            Source

 1612:
 1613:
 1614:
 1615:
 1616:
 1617:
 1618:
 1619:
 1620:
 1621:
 1622:
 1623:
 1624:
 1625:
 1626:
 1627:
 1628:
 1629:
 1630:
 1631:
 1632:
 1633:
 1634:
 1635:
 1636:
 1637:
 1638:
 1639:
 1640:
 1641:	  034E	75 90 45	MOV P1, #045H ; ORL_A_D
 1642:	  0351	75 90 B8	MOV P1, #0B8H
 1643:	  0354	75 90 CD	MOV P1, #0CDH
 1644:	  0357	75 90 BD	MOV P1, #0BDH
 1645:	  035A	74 B8		MOV  A,  #0B8H
 1646:	  035C	75 BD CD	MOV 0BDH, #0CDH
 1647:	  035F	45 BD		ORL  A,  0BDH
 1648:	  0361	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 1649:
 1650:
 1651:
 1652:
 1653:
 1654:
 1655:
 1656:
 1657:
 1658:
 1659:
 1660:
 1661:
 1662:
 1663:
 1664:
 1665:
 1666:
 1667:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 31



 Line  I  Addr  Code            Source

 1668:
 1669:
 1670:
 1671:
 1672:
 1673:
 1674:
 1675:
 1676:
 1677:
 1678:
 1679:
 1680:
 1681:	  0363	75 90 23	MOV P1, #023H ; RL_A
 1682:	  0366	75 90 DB	MOV P1, #0DBH
 1683:	  0369	74 DB		MOV A, #0DBH
 1684:	  036B	23		RL A
 1685:	  036C	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 1686:
 1687:
 1688:
 1689:
 1690:
 1691:
 1692:
 1693:
 1694:
 1695:
 1696:
 1697:
 1698:
 1699:
 1700:
 1701:
 1702:
 1703:
 1704:
 1705:
 1706:
 1707:
 1708:
 1709:
 1710:
 1711:
 1712:
 1713:
 1714:
 1715:
 1716:
 1717:
 1718:
 1719:
 1720:
 1721:	  036E	75 90 72	MOV P1, #072H ; ORL_C_BIT
 1722:	  0371	75 90 26	MOV P1, #026H
 1723:	  0374	75 90 D8	MOV P1, #0D8H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 32



 Line  I  Addr  Code            Source

 1724:	  0377	75 90 33	MOV P1, #033H
 1725:	  037A	85 D0 90	MOV P1, PSW
 1726:	  037D	75 26 D8	MOV 026H,  #0D8H
 1727:	  0380	72 33		ORL  C,  033H
 1728:	  0382	85 D0 90	MOV P1,  0D0H ;check (C or operand2) -> 7 cycles
 1729:
 1730:
 1731:
 1732:
 1733:
 1734:
 1735:
 1736:
 1737:
 1738:
 1739:
 1740:
 1741:
 1742:
 1743:
 1744:
 1745:
 1746:
 1747:
 1748:
 1749:
 1750:
 1751:
 1752:
 1753:
 1754:
 1755:
 1756:
 1757:
 1758:
 1759:
 1760:
 1761:	  0385	75 90 34	MOV P1, #034H ; ADDC_A_DATA
 1762:	  0388	75 90 9D	MOV P1, #09DH
 1763:	  038B	75 90 4E	MOV P1, #04EH
 1764:	  038E	74 9D		MOV  A,  #09DH
 1765:	  0390	34 4E		ADDC  A,  #04EH
 1766:	  0392	F5 90		MOV P1, A               ; check A - 6 cycles
 1767:
 1768:
 1769:
 1770:
 1771:
 1772:
 1773:
 1774:
 1775:
 1776:
 1777:
 1778:
 1779:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 33



 Line  I  Addr  Code            Source

 1780:
 1781:
 1782:
 1783:
 1784:
 1785:
 1786:
 1787:
 1788:
 1789:
 1790:
 1791:
 1792:
 1793:
 1794:
 1795:
 1796:
 1797:
 1798:
 1799:
 1800:
 1801:	  0394	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 1802:	  0397	75 90 FC	MOV P1, #0FCH
 1803:	  039A	74 FC		MOV A, #0FCH
 1804:	  039C	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 1805:	  039D	F5 90		MOV P1, A
 1806:
 1807:
 1808:
 1809:
 1810:
 1811:
 1812:
 1813:
 1814:
 1815:
 1816:
 1817:
 1818:
 1819:
 1820:
 1821:
 1822:
 1823:
 1824:
 1825:
 1826:
 1827:
 1828:
 1829:
 1830:
 1831:
 1832:
 1833:
 1834:
 1835:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 34



 Line  I  Addr  Code            Source

 1836:
 1837:
 1838:
 1839:
 1840:
 1841:	  039F	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 1842:	  03A2	75 90 9A	MOV P1, #09AH
 1843:	  03A5	75 90 26	MOV P1, #026H
 1844:	  03A8	75 90 B6	MOV P1, #0B6H
 1845:	  03AB	74 9A		MOV A, #09AH
 1846:	  03AD	79 26		MOV R1, #026H
 1847:	  03AF	75 26 B6	MOV 026H, #0B6H
 1848:	  03B2	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 1849:	  03B3	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 1850:	  03B5	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 1851:
 1852:
 1853:
 1854:
 1855:
 1856:
 1857:
 1858:
 1859:
 1860:
 1861:
 1862:
 1863:
 1864:
 1865:
 1866:
 1867:
 1868:
 1869:
 1870:
 1871:
 1872:
 1873:
 1874:
 1875:
 1876:
 1877:
 1878:
 1879:
 1880:
 1881:	  03B7	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 1882:	  03BA	75 90 A5	MOV P1, #0A5H
 1883:	  03BD	75 90 FE	MOV P1, #0FEH
 1884:	  03C0	90 FE A5	MOV DPTR,  #0FEA5H
 1885:	  03C3	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 1886:	  03C6	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 1887:
 1888:
 1889:
 1890:
 1891:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 35



 Line  I  Addr  Code            Source

 1892:
 1893:
 1894:
 1895:
 1896:
 1897:
 1898:
 1899:
 1900:
 1901:
 1902:
 1903:
 1904:
 1905:
 1906:
 1907:
 1908:
 1909:
 1910:
 1911:
 1912:
 1913:
 1914:
 1915:
 1916:
 1917:
 1918:
 1919:
 1920:
 1921:	  03C9	75 90 C0	MOV P1, #0C0H ; PUSH
 1922:	  03CC	75 90 6E	MOV P1, #06EH
 1923:	  03CF	75 90 71	MOV P1, #071H
 1924:	  03D2	85 81 90	MOV P1, SP             ; get actual SP
 1925:	  03D5	A9 81		MOV R1, SP             ; save actual SP
 1926:	  03D7	75 6E 71	MOV 06EH, #071H
 1927:	  03DA	C0 6E		PUSH 06EH
 1928:	  03DC	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 1929:	  03DF	87 90		MOV P1, @R1
 1930:
 1931:
 1932:
 1933:
 1934:
 1935:
 1936:
 1937:
 1938:
 1939:
 1940:
 1941:
 1942:
 1943:
 1944:
 1945:
 1946:
 1947:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 36



 Line  I  Addr  Code            Source

 1948:
 1949:
 1950:
 1951:
 1952:
 1953:
 1954:
 1955:
 1956:
 1957:
 1958:
 1959:
 1960:
 1961:	  03E1	75 90 24	MOV P1, #024H ; ADD_A_DATA
 1962:	  03E4	75 90 F3	MOV P1, #0F3H
 1963:	  03E7	75 90 11	MOV P1, #011H
 1964:	  03EA	74 F3		MOV  A,  #0F3H
 1965:	  03EC	24 11		ADD  A,  #011H
 1966:	  03EE	F5 90		MOV P1, A; check (operand2 + operand3) -> 6 cycles
 1967:
 1968:
 1969:
 1970:
 1971:
 1972:
 1973:
 1974:
 1975:
 1976:
 1977:
 1978:
 1979:
 1980:
 1981:
 1982:
 1983:
 1984:
 1985:
 1986:
 1987:
 1988:
 1989:
 1990:
 1991:
 1992:
 1993:
 1994:
 1995:
 1996:
 1997:
 1998:
 1999:
 2000:
 2001:	  03F0	75 90 20	MOV P1, #20H ; JB and SETB
 2002:	  03F3	02 03 FC	JMP INI_JB_51
 2003:	  03F6	75 90 FF	LABEL_JB_51: MOV P1, #0FFH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 37



 Line  I  Addr  Code            Source

 2004:	  03F9	02 04 04	JMP BACK_JB_51
 2005:	  03FC	75 90 0A	INI_JB_51: MOV P1, #0AH
 2006:	  03FF	D2 0A		SETB 0AH
 2007:	  0401	20 0A F2	JB 0AH, LABEL_JB_51
 2008:	  0404	75 90 FE	BACK_JB_51: MOV P1, #0FEH
 2009:
 2010:
 2011:
 2012:
 2013:
 2014:
 2015:
 2016:
 2017:
 2018:
 2019:
 2020:
 2021:
 2022:
 2023:
 2024:
 2025:
 2026:
 2027:
 2028:
 2029:
 2030:
 2031:
 2032:
 2033:
 2034:
 2035:
 2036:
 2037:
 2038:
 2039:
 2040:
 2041:	  0407	75 90 68	MOV P1, #068H ; XRL_A_R0
 2042:	  040A	75 90 C8	MOV P1, #0C8H
 2043:	  040D	75 90 79	MOV P1, #079H
 2044:	  0410	74 C8		MOV  A,  #0C8H
 2045:	  0412	78 79		MOV  R0,  #079H
 2046:	  0414	68		XRL  A, R0             ; A or R0
 2047:	  0415	F5 90		MOV  P1, A             ; Check A - 7 cycles
 2048:
 2049:
 2050:
 2051:
 2052:
 2053:
 2054:
 2055:
 2056:
 2057:
 2058:
 2059:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 38



 Line  I  Addr  Code            Source

 2060:
 2061:
 2062:
 2063:
 2064:
 2065:
 2066:
 2067:
 2068:
 2069:
 2070:
 2071:
 2072:
 2073:
 2074:
 2075:
 2076:
 2077:
 2078:
 2079:
 2080:
 2081:	  0417	75 90 C0	MOV P1, #0C0H ; PUSH
 2082:	  041A	75 90 61	MOV P1, #061H
 2083:	  041D	75 90 CC	MOV P1, #0CCH
 2084:	  0420	85 81 90	MOV P1, SP             ; get actual SP
 2085:	  0423	A9 81		MOV R1, SP             ; save actual SP
 2086:	  0425	75 61 CC	MOV 061H, #0CCH
 2087:	  0428	C0 61		PUSH 061H
 2088:	  042A	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 2089:	  042D	87 90		MOV P1, @R1
 2090:
 2091:
 2092:
 2093:
 2094:
 2095:
 2096:
 2097:
 2098:
 2099:
 2100:
 2101:
 2102:
 2103:
 2104:
 2105:
 2106:
 2107:
 2108:
 2109:
 2110:
 2111:
 2112:
 2113:
 2114:
 2115:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 39



 Line  I  Addr  Code            Source

 2116:
 2117:
 2118:
 2119:
 2120:
 2121:	  042F	75 90 23	MOV P1, #023H ; RL_A
 2122:	  0432	75 90 21	MOV P1, #021H
 2123:	  0435	74 21		MOV A, #021H
 2124:	  0437	23		RL A
 2125:	  0438	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 2126:
 2127:
 2128:
 2129:
 2130:
 2131:
 2132:
 2133:
 2134:
 2135:
 2136:
 2137:
 2138:
 2139:
 2140:
 2141:
 2142:
 2143:
 2144:
 2145:
 2146:
 2147:
 2148:
 2149:
 2150:
 2151:
 2152:
 2153:
 2154:
 2155:
 2156:
 2157:
 2158:
 2159:
 2160:
 2161:	  043A	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 2162:	  043D	75 90 19	MOV P1, #019H
 2163:	  0440	74 19		MOV A, #019H
 2164:	  0442	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 2165:	  0443	F5 90		MOV P1, A
 2166:
 2167:
 2168:
 2169:
 2170:
 2171:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 40



 Line  I  Addr  Code            Source

 2172:
 2173:
 2174:
 2175:
 2176:
 2177:
 2178:
 2179:
 2180:
 2181:
 2182:
 2183:
 2184:
 2185:
 2186:
 2187:
 2188:
 2189:
 2190:
 2191:
 2192:
 2193:
 2194:
 2195:
 2196:
 2197:
 2198:
 2199:
 2200:
 2201:	  0445	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 2202:	  0448	75 90 A6	MOV P1, #0A6H
 2203:	  044B	75 90 2C	MOV P1, #02CH
 2204:	  044E	75 90 F9	MOV P1, #0F9H
 2205:	  0451	74 A6		MOV A, #0A6H
 2206:	  0453	79 2C		MOV R1, #02CH
 2207:	  0455	75 2C F9	MOV 02CH, #0F9H
 2208:	  0458	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 2209:	  0459	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 2210:	  045B	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 2211:
 2212:
 2213:
 2214:
 2215:
 2216:
 2217:
 2218:
 2219:
 2220:
 2221:
 2222:
 2223:
 2224:
 2225:
 2226:
 2227:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 41



 Line  I  Addr  Code            Source

 2228:
 2229:
 2230:
 2231:
 2232:
 2233:
 2234:
 2235:
 2236:
 2237:
 2238:
 2239:
 2240:
 2241:	  045D	75 90 23	MOV P1, #023H ; RL_A
 2242:	  0460	75 90 C7	MOV P1, #0C7H
 2243:	  0463	74 C7		MOV A, #0C7H
 2244:	  0465	23		RL A
 2245:	  0466	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 2246:
 2247:
 2248:
 2249:
 2250:
 2251:
 2252:
 2253:
 2254:
 2255:
 2256:
 2257:
 2258:
 2259:
 2260:
 2261:
 2262:
 2263:
 2264:
 2265:
 2266:
 2267:
 2268:
 2269:
 2270:
 2271:
 2272:
 2273:
 2274:
 2275:
 2276:
 2277:
 2278:
 2279:
 2280:
 2281:	  0468	75 90 94	MOV P1, #094H ; SUBB_A_DATA
 2282:	  046B	75 90 87	MOV P1, #087H
 2283:	  046E	75 90 D7	MOV P1, #0D7H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 42



 Line  I  Addr  Code            Source

 2284:	  0471	74 87		MOV A,  #087H
 2285:	  0473	94 D7		SUBB A,  #0D7H
 2286:	  0475	F5 90		MOV P1, A               ; Check P1 - 6 cycles - operand2 - operand3
 2287:
 2288:
 2289:
 2290:
 2291:
 2292:
 2293:
 2294:
 2295:
 2296:
 2297:
 2298:
 2299:
 2300:
 2301:
 2302:
 2303:
 2304:
 2305:
 2306:
 2307:
 2308:
 2309:
 2310:
 2311:
 2312:
 2313:
 2314:
 2315:
 2316:
 2317:
 2318:
 2319:
 2320:
 2321:	  0477	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 2322:	  047A	75 90 B2	MOV P1, #0B2H
 2323:	  047D	75 90 11	MOV P1, #011H
 2324:	  0480	74 B2		MOV A,  #0B2H
 2325:	  0482	75 F0 11	MOV B,  #011H
 2326:	  0485	A4		MUL AB
 2327:	  0486	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 2328:	  0488	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 2329:
 2330:
 2331:
 2332:
 2333:
 2334:
 2335:
 2336:
 2337:
 2338:
 2339:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 43



 Line  I  Addr  Code            Source

 2340:
 2341:
 2342:
 2343:
 2344:
 2345:
 2346:
 2347:
 2348:
 2349:
 2350:
 2351:
 2352:
 2353:
 2354:
 2355:
 2356:
 2357:
 2358:
 2359:
 2360:
 2361:	  048B	75 90 D4	MOV P1, #0D4H ; DA_A
 2362:	  048E	75 90 15	MOV P1, #015H
 2363:	  0491	85 D0 90	MOV P1, PSW
 2364:	  0494	74 15		MOV A, #015H
 2365:	  0496	D4		DA A
 2366:	  0497	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 2367:
 2368:
 2369:
 2370:
 2371:
 2372:
 2373:
 2374:
 2375:
 2376:
 2377:
 2378:
 2379:
 2380:
 2381:
 2382:
 2383:
 2384:
 2385:
 2386:
 2387:
 2388:
 2389:
 2390:
 2391:
 2392:
 2393:
 2394:
 2395:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 44



 Line  I  Addr  Code            Source

 2396:
 2397:
 2398:
 2399:
 2400:
 2401:	  0499	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 2402:	  049C	75 90 CE	MOV P1, #0CEH
 2403:	  049F	75 90 BF	MOV P1, #0BFH
 2404:	  04A2	74 CE		MOV A,  #0CEH
 2405:	  04A4	75 F0 BF	MOV B,  #0BFH
 2406:	  04A7	A4		MUL AB
 2407:	  04A8	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 2408:	  04AA	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 2409:
 2410:
 2411:
 2412:
 2413:
 2414:
 2415:
 2416:
 2417:
 2418:
 2419:
 2420:
 2421:
 2422:
 2423:
 2424:
 2425:
 2426:
 2427:
 2428:
 2429:
 2430:
 2431:
 2432:
 2433:
 2434:
 2435:
 2436:
 2437:
 2438:
 2439:
 2440:
 2441:	  04AD	75 90 F4	MOV P1, #0F4H ; CPL_A
 2442:	  04B0	F5 90		MOV P1, A
 2443:	  04B2	F4		CPL A
 2444:	  04B3	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have NOT A
 2445:
 2446:
 2447:
 2448:
 2449:
 2450:
 2451:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 45



 Line  I  Addr  Code            Source

 2452:
 2453:
 2454:
 2455:
 2456:
 2457:
 2458:
 2459:
 2460:
 2461:
 2462:
 2463:
 2464:
 2465:
 2466:
 2467:
 2468:
 2469:
 2470:
 2471:
 2472:
 2473:
 2474:
 2475:
 2476:
 2477:
 2478:
 2479:
 2480:
 2481:	  04B5	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 2482:	  04B8	75 90 FD	MOV P1, #0FDH
 2483:	  04BB	75 90 54	MOV P1, #054H
 2484:	  04BE	75 90 45	MOV P1, #045H
 2485:	  04C1	74 FD		MOV A, #0FDH
 2486:	  04C3	78 54		MOV R0, #054H
 2487:	  04C5	75 54 45	MOV 054H, #045H
 2488:	  04C8	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 2489:	  04C9	F5 90		MOV P1, A                ; Check in 9 cycles
 2490:	  04CB	86 90		MOV P1, @R0           ; Check in 10 cycles
 2491:
 2492:
 2493:
 2494:
 2495:
 2496:
 2497:
 2498:
 2499:
 2500:
 2501:
 2502:
 2503:
 2504:
 2505:
 2506:
 2507:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 46



 Line  I  Addr  Code            Source

 2508:
 2509:
 2510:
 2511:
 2512:
 2513:
 2514:
 2515:
 2516:
 2517:
 2518:
 2519:
 2520:
 2521:	  04CD	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 2522:	  04D0	75 90 C0	MOV P1, #0C0H
 2523:	  04D3	74 C0		MOV A, #0C0H
 2524:	  04D5	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 2525:	  04D6	F5 90		MOV P1, A
 2526:
 2527:
 2528:
 2529:
 2530:
 2531:
 2532:
 2533:
 2534:
 2535:
 2536:
 2537:
 2538:
 2539:
 2540:
 2541:
 2542:
 2543:
 2544:
 2545:
 2546:
 2547:
 2548:
 2549:
 2550:
 2551:
 2552:
 2553:
 2554:
 2555:
 2556:
 2557:
 2558:
 2559:
 2560:
 2561:	  04D8	75 90 B2	MOV P1, #0B2H ; CPL_BIT
 2562:	  04DB	75 90 26	MOV P1, #026H
 2563:	  04DE	75 90 1B	MOV P1, #01BH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 47



 Line  I  Addr  Code            Source

 2564:	  04E1	75 90 34	MOV P1, #034H
 2565:	  04E4	75 26 1B	MOV 026H, #01BH
 2566:	  04E7	B2 34		CPL 034H ; addr_2 must change to b1
 2567:	  04E9	85 26 90	MOV  P1, 026H           ; Check in 6 cycles
 2568:
 2569:
 2570:
 2571:
 2572:
 2573:
 2574:
 2575:
 2576:
 2577:
 2578:
 2579:
 2580:
 2581:
 2582:
 2583:
 2584:
 2585:
 2586:
 2587:
 2588:
 2589:
 2590:
 2591:
 2592:
 2593:
 2594:
 2595:
 2596:
 2597:
 2598:
 2599:
 2600:
 2601:	  04EC	75 90 C0	MOV P1, #0C0H ; PUSH
 2602:	  04EF	75 90 3A	MOV P1, #03AH
 2603:	  04F2	75 90 7C	MOV P1, #07CH
 2604:	  04F5	85 81 90	MOV P1, SP             ; get actual SP
 2605:	  04F8	A9 81		MOV R1, SP             ; save actual SP
 2606:	  04FA	75 3A 7C	MOV 03AH, #07CH
 2607:	  04FD	C0 3A		PUSH 03AH
 2608:	  04FF	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 2609:	  0502	87 90		MOV P1, @R1
 2610:
 2611:
 2612:
 2613:
 2614:
 2615:
 2616:
 2617:
 2618:
 2619:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 48



 Line  I  Addr  Code            Source

 2620:
 2621:
 2622:
 2623:
 2624:
 2625:
 2626:
 2627:
 2628:
 2629:
 2630:
 2631:
 2632:
 2633:
 2634:
 2635:
 2636:
 2637:
 2638:
 2639:
 2640:
 2641:	  0504	75 90 03	MOV P1, #003H ; RR_A
 2642:	  0507	74 6C		MOV A, #06CH
 2643:	  0509	75 90 6C	MOV P1, #06CH
 2644:	  050C	03		RR A
 2645:	  050D	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 2646:
 2647:
 2648:
 2649:
 2650:
 2651:
 2652:
 2653:
 2654:
 2655:
 2656:
 2657:
 2658:
 2659:
 2660:
 2661:
 2662:
 2663:
 2664:
 2665:
 2666:
 2667:
 2668:
 2669:
 2670:
 2671:
 2672:
 2673:
 2674:
 2675:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 49



 Line  I  Addr  Code            Source

 2676:
 2677:
 2678:
 2679:
 2680:
 2681:	  050F	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 2682:	  0512	75 90 B7	MOV P1, #0B7H
 2683:	  0515	75 90 2D	MOV P1, #02DH
 2684:	  0518	75 90 36	MOV P1, #036H
 2685:	  051B	74 B7		MOV A, #0B7H
 2686:	  051D	79 2D		MOV R1, #02DH
 2687:	  051F	75 2D 36	MOV 02DH, #036H
 2688:	  0522	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 2689:	  0523	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 2690:	  0525	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 2691:
 2692:
 2693:
 2694:
 2695:
 2696:
 2697:
 2698:
 2699:
 2700:
 2701:
 2702:
 2703:
 2704:
 2705:
 2706:
 2707:
 2708:
 2709:
 2710:
 2711:
 2712:
 2713:
 2714:
 2715:
 2716:
 2717:
 2718:
 2719:
 2720:
 2721:	  0527	75 90 84	MOV P1, #084H ; DIV_A_B
 2722:	  052A	75 90 8F	MOV P1, #08FH
 2723:	  052D	75 90 A7	MOV P1, #0A7H
 2724:	  0530	74 8F		MOV A,  #08FH
 2725:	  0532	75 F0 A7	MOV B,  #0A7H
 2726:	  0535	84		DIV AB
 2727:	  0536	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 2728:	  0538	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 2729:
 2730:
 2731:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 50



 Line  I  Addr  Code            Source

 2732:
 2733:
 2734:
 2735:
 2736:
 2737:
 2738:
 2739:
 2740:
 2741:
 2742:
 2743:
 2744:
 2745:
 2746:
 2747:
 2748:
 2749:
 2750:
 2751:
 2752:
 2753:
 2754:
 2755:
 2756:
 2757:
 2758:
 2759:
 2760:
 2761:	  053B	75 90 C4	MOV P1, #0C4H ; SWAP_A
 2762:	  053E	75 90 5D	MOV P1, #05DH
 2763:	  0541	74 5D		MOV A,  #05DH
 2764:	  0543	C4		SWAP A
 2765:	  0544	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 2766:
 2767:
 2768:
 2769:
 2770:
 2771:
 2772:
 2773:
 2774:
 2775:
 2776:
 2777:
 2778:
 2779:
 2780:
 2781:
 2782:
 2783:
 2784:
 2785:
 2786:
 2787:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 51



 Line  I  Addr  Code            Source

 2788:
 2789:
 2790:
 2791:
 2792:
 2793:
 2794:
 2795:
 2796:
 2797:
 2798:
 2799:
 2800:
 2801:	  0546	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 2802:	  0549	75 90 D0	MOV P1, #0D0H
 2803:	  054C	02 05 55	JMP INI_JNB_71
 2804:	  054F	75 90 FF	LABEL_JNB_71: MOV P1, #0FFH
 2805:	  0552	02 05 5D	JMP BACK_JNB_71
 2806:	  0555	75 90 61	INI_JNB_71: MOV P1, #061H
 2807:	  0558	C2 61		CLR 061H
 2808:	  055A	30 61 F2	JNB 061H, LABEL_JNB_71
 2809:	  055D	75 90 FE	BACK_JNB_71: MOV P1, #0FEH
 2810:
 2811:
 2812:
 2813:
 2814:
 2815:
 2816:
 2817:
 2818:
 2819:
 2820:
 2821:
 2822:
 2823:
 2824:
 2825:
 2826:
 2827:
 2828:
 2829:
 2830:
 2831:
 2832:
 2833:
 2834:
 2835:
 2836:
 2837:
 2838:
 2839:
 2840:
 2841:	  0560	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 2842:	  0563	75 90 B5	MOV P1, #0B5H
 2843:	  0566	75 90 51	MOV P1, #051H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 52



 Line  I  Addr  Code            Source

 2844:	  0569	75 90 53	MOV P1, #053H
 2845:	  056C	74 B5		MOV A, #0B5H
 2846:	  056E	79 51		MOV R1, #051H
 2847:	  0570	75 51 53	MOV 051H, #053H
 2848:	  0573	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 2849:	  0574	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 2850:	  0576	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 2851:
 2852:
 2853:
 2854:
 2855:
 2856:
 2857:
 2858:
 2859:
 2860:
 2861:
 2862:
 2863:
 2864:
 2865:
 2866:
 2867:
 2868:
 2869:
 2870:
 2871:
 2872:
 2873:
 2874:
 2875:
 2876:
 2877:
 2878:
 2879:
 2880:
 2881:	  0578	75 90 70	MOV P1, #70H ; JNZ
 2882:	  057B	75 90 00	MOV P1, #00H
 2883:	  057E	02 05 87	JMP INI_JNZ_73
 2884:	  0581	75 90 FF	LABEL_JNZ_73: MOV P1, #0FFH
 2885:	  0584	02 05 8E	JMP BACK_JNZ_73
 2886:	  0587	75 90 00	INI_JNZ_73: MOV P1, #00H
 2887:	  058A	74 00		MOV A, #00H
 2888:	  058C	70 F3		JNZ LABEL_JNZ_73
 2889:	  058E	75 90 FE	BACK_JNZ_73: MOV P1, #0FEH
 2890:
 2891:
 2892:
 2893:
 2894:
 2895:
 2896:
 2897:
 2898:
 2899:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 53



 Line  I  Addr  Code            Source

 2900:
 2901:
 2902:
 2903:
 2904:
 2905:
 2906:
 2907:
 2908:
 2909:
 2910:
 2911:
 2912:
 2913:
 2914:
 2915:
 2916:
 2917:
 2918:
 2919:
 2920:
 2921:	  0591	75 90 53	MOV P1, #053H ; ANL_D_DATA
 2922:	  0594	75 90 7F	MOV P1, #07FH
 2923:	  0597	75 90 E9	MOV P1, #0E9H
 2924:	  059A	75 90 BA	MOV P1, #0BAH
 2925:	  059D	75 7F E9	MOV 07FH, #0E9H
 2926:	  05A0	53 7F BA	ANL 07FH, #0BAH
 2927:	  05A3	85 7F 90	MOV P1, 07FH  ;check P1 (operand3 and operand4) -> 7 cycles
 2928:
 2929:
 2930:
 2931:
 2932:
 2933:
 2934:
 2935:
 2936:
 2937:
 2938:
 2939:
 2940:
 2941:
 2942:
 2943:
 2944:
 2945:
 2946:
 2947:
 2948:
 2949:
 2950:
 2951:
 2952:
 2953:
 2954:
 2955:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 54



 Line  I  Addr  Code            Source

 2956:
 2957:
 2958:
 2959:
 2960:
 2961:	  05A6	75 90 05	MOV P1, #05H ; INC_D
 2962:	  05A9	75 90 08	MOV P1, #08H
 2963:	  05AC	74 08		MOV A, #08H
 2964:	  05AE	04		INC A
 2965:	  05AF	F5 90		MOV P1, A
 2966:
 2967:
 2968:
 2969:
 2970:
 2971:
 2972:
 2973:
 2974:
 2975:
 2976:
 2977:
 2978:
 2979:
 2980:
 2981:
 2982:
 2983:
 2984:
 2985:
 2986:
 2987:
 2988:
 2989:
 2990:
 2991:
 2992:
 2993:
 2994:
 2995:
 2996:
 2997:
 2998:
 2999:
 3000:
 3001:	  05B1	75 90 20	MOV P1, #20H ; JB and SETB
 3002:	  05B4	02 05 BD	JMP INI_JB_76
 3003:	  05B7	75 90 FF	LABEL_JB_76: MOV P1, #0FFH
 3004:	  05BA	02 05 C5	JMP BACK_JB_76
 3005:	  05BD	75 90 69	INI_JB_76: MOV P1, #069H
 3006:	  05C0	D2 69		SETB 069H
 3007:	  05C2	20 69 F2	JB 069H, LABEL_JB_76
 3008:	  05C5	75 90 FE	BACK_JB_76: MOV P1, #0FEH
 3009:
 3010:
 3011:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 55



 Line  I  Addr  Code            Source

 3012:
 3013:
 3014:
 3015:
 3016:
 3017:
 3018:
 3019:
 3020:
 3021:
 3022:
 3023:
 3024:
 3025:
 3026:
 3027:
 3028:
 3029:
 3030:
 3031:
 3032:
 3033:
 3034:
 3035:
 3036:
 3037:
 3038:
 3039:
 3040:
 3041:	  05C8	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 3042:	  05CB	75 90 7B	MOV P1, #07BH
 3043:	  05CE	75 90 3E	MOV P1, #03EH
 3044:	  05D1	75 90 35	MOV P1, #035H
 3045:	  05D4	74 7B		MOV A, #07BH
 3046:	  05D6	78 3E		MOV R0, #03EH
 3047:	  05D8	75 3E 35	MOV 03EH, #035H
 3048:	  05DB	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 3049:	  05DC	F5 90		MOV P1, A                ; Check in 9 cycles
 3050:	  05DE	86 90		MOV P1, @R0           ; Check in 10 cycles
 3051:
 3052:
 3053:
 3054:
 3055:
 3056:
 3057:
 3058:
 3059:
 3060:
 3061:
 3062:
 3063:
 3064:
 3065:
 3066:
 3067:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 56



 Line  I  Addr  Code            Source

 3068:
 3069:
 3070:
 3071:
 3072:
 3073:
 3074:
 3075:
 3076:
 3077:
 3078:
 3079:
 3080:
 3081:	  05E0	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 3082:	  05E3	75 90 AB	MOV P1, #0ABH
 3083:	  05E6	75 90 5E	MOV P1, #05EH
 3084:	  05E9	75 90 F1	MOV P1, #0F1H
 3085:	  05EC	74 AB		MOV A, #0ABH
 3086:	  05EE	79 5E		MOV R1, #05EH
 3087:	  05F0	75 5E F1	MOV 05EH, #0F1H
 3088:	  05F3	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 3089:	  05F4	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 3090:	  05F6	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 3091:
 3092:
 3093:
 3094:
 3095:
 3096:
 3097:
 3098:
 3099:
 3100:
 3101:
 3102:
 3103:
 3104:
 3105:
 3106:
 3107:
 3108:
 3109:
 3110:
 3111:
 3112:
 3113:
 3114:
 3115:
 3116:
 3117:
 3118:
 3119:
 3120:
 3121:	  05F8	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 3122:	  05FB	75 90 5C	MOV P1, #05CH
 3123:	  05FE	75 90 62	MOV P1, #062H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 57



 Line  I  Addr  Code            Source

 3124:	  0601	75 5C 62	MOV 05CH, #062H
 3125:	  0604	78 5C		MOV R0,  #05CH ; R0 must have 01h
 3126:	  0606	88 90		MOV P1, R0             ; Check in 6 cycles
 3127:
 3128:
 3129:
 3130:
 3131:
 3132:
 3133:
 3134:
 3135:
 3136:
 3137:
 3138:
 3139:
 3140:
 3141:
 3142:
 3143:
 3144:
 3145:
 3146:
 3147:
 3148:
 3149:
 3150:
 3151:
 3152:
 3153:
 3154:
 3155:
 3156:
 3157:
 3158:
 3159:
 3160:
 3161:	  0608	75 90 68	MOV P1, #068H ; XRL_A_R0
 3162:	  060B	75 90 72	MOV P1, #072H
 3163:	  060E	75 90 D8	MOV P1, #0D8H
 3164:	  0611	74 72		MOV  A,  #072H
 3165:	  0613	78 D8		MOV  R0,  #0D8H
 3166:	  0615	68		XRL  A, R0             ; A or R0
 3167:	  0616	F5 90		MOV  P1, A             ; Check A - 7 cycles
 3168:
 3169:
 3170:
 3171:
 3172:
 3173:
 3174:
 3175:
 3176:
 3177:
 3178:
 3179:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 58



 Line  I  Addr  Code            Source

 3180:
 3181:
 3182:
 3183:
 3184:
 3185:
 3186:
 3187:
 3188:
 3189:
 3190:
 3191:
 3192:
 3193:
 3194:
 3195:
 3196:
 3197:
 3198:
 3199:
 3200:
 3201:	  0618	75 90 60	MOV P1, #60H ; JZ
 3202:	  061B	75 90 00	MOV P1, #00H
 3203:	  061E	02 06 27	JMP INI_JZ_81
 3204:	  0621	75 90 FF	LABEL_JZ_81: MOV P1, #0FFH
 3205:	  0624	02 06 2E	JMP BACK_JZ_81
 3206:	  0627	75 90 00	INI_JZ_81: MOV P1, #00H
 3207:	  062A	74 00		MOV A, #00H
 3208:	  062C	60 F3		JZ LABEL_JZ_81
 3209:	  062E	75 90 FE	BACK_JZ_81: MOV P1, #0FEH
 3210:
 3211:
 3212:
 3213:
 3214:
 3215:
 3216:
 3217:
 3218:
 3219:
 3220:
 3221:
 3222:
 3223:
 3224:
 3225:
 3226:
 3227:
 3228:
 3229:
 3230:
 3231:
 3232:
 3233:
 3234:
 3235:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 59



 Line  I  Addr  Code            Source

 3236:
 3237:
 3238:
 3239:
 3240:
 3241:	  0631	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 3242:	  0634	75 90 57	MOV P1, #057H
 3243:	  0637	75 90 03	MOV P1, #03H
 3244:	  063A	90 03 57	MOV DPTR,  #0357H
 3245:	  063D	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 3246:	  0640	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 3247:
 3248:
 3249:
 3250:
 3251:
 3252:
 3253:
 3254:
 3255:
 3256:
 3257:
 3258:
 3259:
 3260:
 3261:
 3262:
 3263:
 3264:
 3265:
 3266:
 3267:
 3268:
 3269:
 3270:
 3271:
 3272:
 3273:
 3274:
 3275:
 3276:
 3277:
 3278:
 3279:
 3280:
 3281:	  0643	75 90 D0	MOV P1, #0D0H ; POP
 3282:	  0646	75 90 BF	MOV P1, #0BFH
 3283:	  0649	75 90 CE	MOV P1, #0CEH
 3284:	  064C	85 81 90	MOV P1, SP             ; get actual SP
 3285:	  064F	D0 BF		POP 0BFH
 3286:	  0651	85 81 90	MOV P1, SP             ; Check SP - 5 cycles - SP anterior - 1
 3287:	  0654	A8 81		MOV R0, SP
 3288:	  0656	76 CE		MOV @R0, #0CEH
 3289:	  0658	86 90		MOV P1, @R0            ; get actual value
 3290:	  065A	85 BF 90	MOV P1, 0BFH; compare values - 8 cycles
 3291:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 60



 Line  I  Addr  Code            Source

 3292:
 3293:
 3294:
 3295:
 3296:
 3297:
 3298:
 3299:
 3300:
 3301:
 3302:
 3303:
 3304:
 3305:
 3306:
 3307:
 3308:
 3309:
 3310:
 3311:
 3312:
 3313:
 3314:
 3315:
 3316:
 3317:
 3318:
 3319:
 3320:
 3321:	  065D	75 90 D4	MOV P1, #0D4H ; DA_A
 3322:	  0660	75 90 0A	MOV P1, #0AH
 3323:	  0663	85 D0 90	MOV P1, PSW
 3324:	  0666	74 0A		MOV A, #0AH
 3325:	  0668	D4		DA A
 3326:	  0669	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 3327:
 3328:
 3329:
 3330:
 3331:
 3332:
 3333:
 3334:
 3335:
 3336:
 3337:
 3338:
 3339:
 3340:
 3341:
 3342:
 3343:
 3344:
 3345:
 3346:
 3347:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 61



 Line  I  Addr  Code            Source

 3348:
 3349:
 3350:
 3351:
 3352:
 3353:
 3354:
 3355:
 3356:
 3357:
 3358:
 3359:
 3360:
 3361:	  066B	75 90 84	MOV P1, #084H ; DIV_A_B
 3362:	  066E	75 90 4D	MOV P1, #04DH
 3363:	  0671	75 90 FB	MOV P1, #0FBH
 3364:	  0674	74 4D		MOV A,  #04DH
 3365:	  0676	75 F0 FB	MOV B,  #0FBH
 3366:	  0679	84		DIV AB
 3367:	  067A	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 3368:	  067C	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 3369:
 3370:
 3371:
 3372:
 3373:
 3374:
 3375:
 3376:
 3377:
 3378:
 3379:
 3380:
 3381:
 3382:
 3383:
 3384:
 3385:
 3386:
 3387:
 3388:
 3389:
 3390:
 3391:
 3392:
 3393:
 3394:
 3395:
 3396:
 3397:
 3398:
 3399:
 3400:
 3401:	  067F	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 3402:	  0682	75 90 6A	MOV P1, #06AH
 3403:	  0685	75 90 C1	MOV P1, #0C1H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 62



 Line  I  Addr  Code            Source

 3404:	  0688	75 6A C1	MOV 06AH, #0C1H
 3405:	  068B	78 6A		MOV R0,  #06AH ; R0 must have 01h
 3406:	  068D	88 90		MOV P1, R0             ; Check in 6 cycles
 3407:
 3408:
 3409:
 3410:
 3411:
 3412:
 3413:
 3414:
 3415:
 3416:
 3417:
 3418:
 3419:
 3420:
 3421:
 3422:
 3423:
 3424:
 3425:
 3426:
 3427:
 3428:
 3429:
 3430:
 3431:
 3432:
 3433:
 3434:
 3435:
 3436:
 3437:
 3438:
 3439:
 3440:
 3441:	  068F	75 90 F4	MOV P1, #0F4H ; CPL_A
 3442:	  0692	F5 90		MOV P1, A
 3443:	  0694	F4		CPL A
 3444:	  0695	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have NOT A
 3445:
 3446:
 3447:
 3448:
 3449:
 3450:
 3451:
 3452:
 3453:
 3454:
 3455:
 3456:
 3457:
 3458:
 3459:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 63



 Line  I  Addr  Code            Source

 3460:
 3461:
 3462:
 3463:
 3464:
 3465:
 3466:
 3467:
 3468:
 3469:
 3470:
 3471:
 3472:
 3473:
 3474:
 3475:
 3476:
 3477:
 3478:
 3479:
 3480:
 3481:	  0697	75 90 B2	MOV P1, #0B2H ; CPL_BIT
 3482:	  069A	75 90 20	MOV P1, #020H
 3483:	  069D	75 90 24	MOV P1, #024H
 3484:	  06A0	75 90 06	MOV P1, #06H
 3485:	  06A3	75 20 24	MOV 020H, #024H
 3486:	  06A6	B2 06		CPL 06H ; addr_2 must change to b1
 3487:	  06A8	85 20 90	MOV  P1, 020H           ; Check in 6 cycles
 3488:
 3489:
 3490:
 3491:
 3492:
 3493:
 3494:
 3495:
 3496:
 3497:
 3498:
 3499:
 3500:
 3501:
 3502:
 3503:
 3504:
 3505:
 3506:
 3507:
 3508:
 3509:
 3510:
 3511:
 3512:
 3513:
 3514:
 3515:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 64



 Line  I  Addr  Code            Source

 3516:
 3517:
 3518:
 3519:
 3520:
 3521:	  06AB	75 90 84	MOV P1, #084H ; DIV_A_B
 3522:	  06AE	75 90 36	MOV P1, #036H
 3523:	  06B1	75 90 96	MOV P1, #096H
 3524:	  06B4	74 36		MOV A,  #036H
 3525:	  06B6	75 F0 96	MOV B,  #096H
 3526:	  06B9	84		DIV AB
 3527:	  06BA	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 3528:	  06BC	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 3529:
 3530:
 3531:
 3532:
 3533:
 3534:
 3535:
 3536:
 3537:
 3538:
 3539:
 3540:
 3541:
 3542:
 3543:
 3544:
 3545:
 3546:
 3547:
 3548:
 3549:
 3550:
 3551:
 3552:
 3553:
 3554:
 3555:
 3556:
 3557:
 3558:
 3559:
 3560:
 3561:	  06BF	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 3562:	  06C2	75 90 47	MOV P1, #047H
 3563:	  06C5	75 90 E8	MOV P1, #0E8H
 3564:	  06C8	75 47 E8	MOV 047H, #0E8H
 3565:	  06CB	00		LABEL_DJNZ_90: NOP
 3566:	  06CC	D5 47 FC	DJNZ 047H, LABEL_DJNZ_90; loop nop data_1 times
 3567:	  06CF	85 47 90	MOV P1, 047H ; Check in 10 cycles - P1 must have previous P1 -1
 3568:	  06D2	75 90 12	MOV P1, #012H ; CALL
 3569:	  06D5	11 44		CALL LABEL_CALL
 3570:	  06D7	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 3571:	  06DA	75 90 E0	MOV P1, #0E0H ; MOVX_A_ATDPTR

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 65



 Line  I  Addr  Code            Source

 3572:	  06DD	85 82 90	MOV P1, DPL
 3573:	  06E0	85 83 90	MOV P1, DPH
 3574:	  06E3	E0		MOVX A, @DPTR
 3575:	  06E4	F5 90		MOV P1, A
 3576:
 3577:
 3578:
 3579:
 3580:
 3581:
 3582:
 3583:
 3584:
 3585:
 3586:
 3587:
 3588:
 3589:
 3590:
 3591:
 3592:
 3593:
 3594:
 3595:
 3596:
 3597:
 3598:
 3599:
 3600:
 3601:	  06E6	75 90 03	MOV P1, #003H ; RR_A
 3602:	  06E9	74 06		MOV A, #06H
 3603:	  06EB	75 90 06	MOV P1, #06H
 3604:	  06EE	03		RR A
 3605:	  06EF	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 3606:
 3607:
 3608:
 3609:
 3610:
 3611:
 3612:
 3613:
 3614:
 3615:
 3616:
 3617:
 3618:
 3619:
 3620:
 3621:
 3622:
 3623:
 3624:
 3625:
 3626:
 3627:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 66



 Line  I  Addr  Code            Source

 3628:
 3629:
 3630:
 3631:
 3632:
 3633:
 3634:
 3635:
 3636:
 3637:
 3638:
 3639:
 3640:
 3641:	  06F1	75 90 B2	MOV P1, #0B2H ; CPL_BIT
 3642:	  06F4	75 90 2C	MOV P1, #02CH
 3643:	  06F7	75 90 06	MOV P1, #06H
 3644:	  06FA	75 90 61	MOV P1, #061H
 3645:	  06FD	75 2C 06	MOV 02CH, #06H
 3646:	  0700	B2 61		CPL 061H ; addr_2 must change to b1
 3647:	  0702	85 2C 90	MOV  P1, 02CH           ; Check in 6 cycles
 3648:
 3649:
 3650:
 3651:
 3652:
 3653:
 3654:
 3655:
 3656:
 3657:
 3658:
 3659:
 3660:
 3661:
 3662:
 3663:
 3664:
 3665:
 3666:
 3667:
 3668:
 3669:
 3670:
 3671:
 3672:
 3673:
 3674:
 3675:
 3676:
 3677:
 3678:
 3679:
 3680:
 3681:	  0705	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 3682:	  0708	75 90 7C	MOV P1, #07CH
 3683:	  070B	75 90 E5	MOV P1, #0E5H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 67



 Line  I  Addr  Code            Source

 3684:	  070E	90 E5 7C	MOV DPTR,  #0E57CH
 3685:	  0711	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 3686:	  0714	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 3687:
 3688:
 3689:
 3690:
 3691:
 3692:
 3693:
 3694:
 3695:
 3696:
 3697:
 3698:
 3699:
 3700:
 3701:
 3702:
 3703:
 3704:
 3705:
 3706:
 3707:
 3708:
 3709:
 3710:
 3711:
 3712:
 3713:
 3714:
 3715:
 3716:
 3717:
 3718:
 3719:
 3720:
 3721:	  0717	75 90 70	MOV P1, #70H ; JNZ
 3722:	  071A	75 90 00	MOV P1, #00H
 3723:	  071D	02 07 26	JMP INI_JNZ_94
 3724:	  0720	75 90 FF	LABEL_JNZ_94: MOV P1, #0FFH
 3725:	  0723	02 07 2D	JMP BACK_JNZ_94
 3726:	  0726	75 90 00	INI_JNZ_94: MOV P1, #00H
 3727:	  0729	74 00		MOV A, #00H
 3728:	  072B	70 F3		JNZ LABEL_JNZ_94
 3729:	  072D	75 90 FE	BACK_JNZ_94: MOV P1, #0FEH
 3730:
 3731:
 3732:
 3733:
 3734:
 3735:
 3736:
 3737:
 3738:
 3739:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 68



 Line  I  Addr  Code            Source

 3740:
 3741:
 3742:
 3743:
 3744:
 3745:
 3746:
 3747:
 3748:
 3749:
 3750:
 3751:
 3752:
 3753:
 3754:
 3755:
 3756:
 3757:
 3758:
 3759:
 3760:
 3761:	  0730	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 3762:	  0733	75 90 92	MOV P1, #092H
 3763:	  0736	75 90 30	MOV P1, #030H
 3764:	  0739	75 90 FE	MOV P1, #0FEH
 3765:	  073C	74 92		MOV A, #092H
 3766:	  073E	78 30		MOV R0, #030H
 3767:	  0740	75 30 FE	MOV 030H, #0FEH
 3768:	  0743	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 3769:	  0744	F5 90		MOV P1, A                ; Check in 9 cycles
 3770:	  0746	86 90		MOV P1, @R0           ; Check in 10 cycles
 3771:
 3772:
 3773:
 3774:
 3775:
 3776:
 3777:
 3778:
 3779:
 3780:
 3781:
 3782:
 3783:
 3784:
 3785:
 3786:
 3787:
 3788:
 3789:
 3790:
 3791:
 3792:
 3793:
 3794:
 3795:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 69



 Line  I  Addr  Code            Source

 3796:
 3797:
 3798:
 3799:
 3800:
 3801:	  0748	75 90 C0	MOV P1, #0C0H ; PUSH
 3802:	  074B	75 90 3C	MOV P1, #03CH
 3803:	  074E	75 90 38	MOV P1, #038H
 3804:	  0751	85 81 90	MOV P1, SP             ; get actual SP
 3805:	  0754	A9 81		MOV R1, SP             ; save actual SP
 3806:	  0756	75 3C 38	MOV 03CH, #038H
 3807:	  0759	C0 3C		PUSH 03CH
 3808:	  075B	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 3809:	  075E	87 90		MOV P1, @R1
 3810:
 3811:
 3812:
 3813:
 3814:
 3815:
 3816:
 3817:
 3818:
 3819:
 3820:
 3821:
 3822:
 3823:
 3824:
 3825:
 3826:
 3827:
 3828:
 3829:
 3830:
 3831:
 3832:
 3833:
 3834:
 3835:
 3836:
 3837:
 3838:
 3839:
 3840:
 3841:	  0760	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 3842:	  0763	75 90 48	MOV P1, #048H
 3843:	  0766	75 90 BC	MOV P1, #0BCH
 3844:	  0769	75 48 BC	MOV 048H, #0BCH
 3845:	  076C	00		LABEL_DJNZ_97: NOP
 3846:	  076D	D5 48 FC	DJNZ 048H, LABEL_DJNZ_97; loop nop data_1 times
 3847:	  0770	85 48 90	MOV P1, 048H ; Check in 10 cycles - P1 must have previous P1 -1
 3848:	  0773	75 90 12	MOV P1, #012H ; CALL
 3849:	  0776	11 44		CALL LABEL_CALL
 3850:	  0778	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 3851:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 70



 Line  I  Addr  Code            Source

 3852:
 3853:
 3854:
 3855:
 3856:
 3857:
 3858:
 3859:
 3860:
 3861:
 3862:
 3863:
 3864:
 3865:
 3866:
 3867:
 3868:
 3869:
 3870:
 3871:
 3872:
 3873:
 3874:
 3875:
 3876:
 3877:
 3878:
 3879:
 3880:
 3881:	  077B	75 90 94	MOV P1, #094H ; SUBB_A_DATA
 3882:	  077E	75 90 52	MOV P1, #052H
 3883:	  0781	75 90 EC	MOV P1, #0ECH
 3884:	  0784	74 52		MOV A,  #052H
 3885:	  0786	94 EC		SUBB A,  #0ECH
 3886:	  0788	F5 90		MOV P1, A               ; Check P1 - 6 cycles - operand2 - operand3
 3887:
 3888:
 3889:
 3890:
 3891:
 3892:
 3893:
 3894:
 3895:
 3896:
 3897:
 3898:
 3899:
 3900:
 3901:
 3902:
 3903:
 3904:
 3905:
 3906:
 3907:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 71



 Line  I  Addr  Code            Source

 3908:
 3909:
 3910:
 3911:
 3912:
 3913:
 3914:
 3915:
 3916:
 3917:
 3918:
 3919:
 3920:
 3921:	  078A	75 90 34	MOV P1, #034H ; ADDC_A_DATA
 3922:	  078D	75 90 D7	MOV P1, #0D7H
 3923:	  0790	75 90 68	MOV P1, #068H
 3924:	  0793	74 D7		MOV  A,  #0D7H
 3925:	  0795	34 68		ADDC  A,  #068H
 3926:	  0797	F5 90		MOV P1, A               ; check A - 6 cycles
 3927:
 3928:
 3929:
 3930:
 3931:
 3932:
 3933:
 3934:
 3935:
 3936:
 3937:
 3938:
 3939:
 3940:
 3941:
 3942:
 3943:
 3944:
 3945:
 3946:
 3947:
 3948:
 3949:
 3950:
 3951:
 3952:
 3953:
 3954:
 3955:
 3956:
 3957:
 3958:
 3959:
 3960:
 3961:	  0799	75 90 C4	MOV P1, #0C4H ; SWAP_A
 3962:	  079C	75 90 05	MOV P1, #05H
 3963:	  079F	74 05		MOV A,  #05H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 72



 Line  I  Addr  Code            Source

 3964:	  07A1	C4		SWAP A
 3965:	  07A2	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 3966:
 3967:
 3968:
 3969:
 3970:
 3971:
 3972:
 3973:
 3974:
 3975:
 3976:
 3977:
 3978:
 3979:
 3980:
 3981:
 3982:
 3983:
 3984:
 3985:
 3986:
 3987:
 3988:
 3989:
 3990:
 3991:
 3992:
 3993:
 3994:
 3995:
 3996:
 3997:
 3998:
 3999:
 4000:
 4001:	  07A4	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 4002:	  07A7	75 90 5A	MOV P1, #05AH
 4003:	  07AA	75 90 A1	MOV P1, #0A1H
 4004:	  07AD	74 5A		MOV A,  #05AH
 4005:	  07AF	75 F0 A1	MOV B,  #0A1H
 4006:	  07B2	A4		MUL AB
 4007:	  07B3	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 4008:	  07B5	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 4009:
 4010:
 4011:
 4012:
 4013:
 4014:
 4015:
 4016:
 4017:
 4018:
 4019:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 73



 Line  I  Addr  Code            Source

 4020:
 4021:
 4022:
 4023:
 4024:
 4025:
 4026:
 4027:
 4028:
 4029:
 4030:
 4031:
 4032:
 4033:
 4034:
 4035:
 4036:
 4037:
 4038:
 4039:
 4040:
 4041:	  07B8	75 90 03	MOV P1, #003H ; RR_A
 4042:	  07BB	74 8A		MOV A, #08AH
 4043:	  07BD	75 90 8A	MOV P1, #08AH
 4044:	  07C0	03		RR A
 4045:	  07C1	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 4046:
 4047:
 4048:
 4049:
 4050:
 4051:
 4052:
 4053:
 4054:
 4055:
 4056:
 4057:
 4058:
 4059:
 4060:
 4061:
 4062:
 4063:
 4064:
 4065:
 4066:
 4067:
 4068:
 4069:
 4070:
 4071:
 4072:
 4073:
 4074:
 4075:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 74



 Line  I  Addr  Code            Source

 4076:
 4077:
 4078:
 4079:
 4080:
 4081:	  07C3	75 90 23	MOV P1, #023H ; RL_A
 4082:	  07C6	75 90 43	MOV P1, #043H
 4083:	  07C9	74 43		MOV A, #043H
 4084:	  07CB	23		RL A
 4085:	  07CC	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 4086:
 4087:
 4088:
 4089:
 4090:
 4091:
 4092:
 4093:
 4094:
 4095:
 4096:
 4097:
 4098:
 4099:
 4100:
 4101:
 4102:
 4103:
 4104:
 4105:
 4106:
 4107:
 4108:
 4109:
 4110:
 4111:
 4112:
 4113:
 4114:
 4115:
 4116:
 4117:
 4118:
 4119:
 4120:
 4121:	  07CE	75 90 16	MOV P1, #016H ; DEC_R0
 4122:	  07D1	75 90 7C	MOV P1, #07CH
 4123:	  07D4	75 90 02	MOV P1, #02H
 4124:	  07D7	78 7C		MOV R0, #07CH
 4125:	  07D9	75 7C 02	MOV 07CH, #02H
 4126:	  07DC	16		DEC @R0
 4127:	  07DD	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 4128:
 4129:
 4130:
 4131:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 75



 Line  I  Addr  Code            Source

 4132:
 4133:
 4134:
 4135:
 4136:
 4137:
 4138:
 4139:
 4140:
 4141:
 4142:
 4143:
 4144:
 4145:
 4146:
 4147:
 4148:
 4149:
 4150:
 4151:
 4152:
 4153:
 4154:
 4155:
 4156:
 4157:
 4158:
 4159:
 4160:
 4161:	  07DF	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 4162:	  07E2	75 90 F7	MOV P1, #0F7H
 4163:	  07E5	02 07 EE	JMP INI_JNB_105
 4164:	  07E8	75 90 FF	LABEL_JNB_105: MOV P1, #0FFH
 4165:	  07EB	02 07 F6	JMP BACK_JNB_105
 4166:	  07EE	75 90 1E	INI_JNB_105: MOV P1, #01EH
 4167:	  07F1	C2 1E		CLR 01EH
 4168:	  07F3	30 1E F2	JNB 01EH, LABEL_JNB_105
 4169:	  07F6	75 90 FE	BACK_JNB_105: MOV P1, #0FEH
 4170:
 4171:
 4172:
 4173:
 4174:
 4175:
 4176:
 4177:
 4178:
 4179:
 4180:
 4181:
 4182:
 4183:
 4184:
 4185:
 4186:
 4187:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 76



 Line  I  Addr  Code            Source

 4188:
 4189:
 4190:
 4191:
 4192:
 4193:
 4194:
 4195:
 4196:
 4197:
 4198:
 4199:
 4200:
 4201:	  07F9	75 90 84	MOV P1, #084H ; DIV_A_B
 4202:	  07FC	75 90 4C	MOV P1, #04CH
 4203:	  07FF	75 90 A7	MOV P1, #0A7H
 4204:	  0802	74 4C		MOV A,  #04CH
 4205:	  0804	75 F0 A7	MOV B,  #0A7H
 4206:	  0807	84		DIV AB
 4207:	  0808	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 4208:	  080A	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 4209:
 4210:
 4211:
 4212:
 4213:
 4214:
 4215:
 4216:
 4217:
 4218:
 4219:
 4220:
 4221:
 4222:
 4223:
 4224:
 4225:
 4226:
 4227:
 4228:
 4229:
 4230:
 4231:
 4232:
 4233:
 4234:
 4235:
 4236:
 4237:
 4238:
 4239:
 4240:
 4241:	  080D	75 90 F4	MOV P1, #0F4H ; CPL_A
 4242:	  0810	F5 90		MOV P1, A
 4243:	  0812	F4		CPL A

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 77



 Line  I  Addr  Code            Source

 4244:	  0813	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have NOT A
 4245:
 4246:
 4247:
 4248:
 4249:
 4250:
 4251:
 4252:
 4253:
 4254:
 4255:
 4256:
 4257:
 4258:
 4259:
 4260:
 4261:
 4262:
 4263:
 4264:
 4265:
 4266:
 4267:
 4268:
 4269:
 4270:
 4271:
 4272:
 4273:
 4274:
 4275:
 4276:
 4277:
 4278:
 4279:
 4280:
 4281:	  0815	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 4282:	  0818	75 90 77	MOV P1, #077H
 4283:	  081B	75 90 3B	MOV P1, #03BH
 4284:	  081E	75 90 B6	MOV P1, #0B6H
 4285:	  0821	74 77		MOV A, #077H
 4286:	  0823	78 3B		MOV R0, #03BH
 4287:	  0825	75 3B B6	MOV 03BH, #0B6H
 4288:	  0828	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 4289:	  0829	F5 90		MOV P1, A                ; Check in 9 cycles
 4290:	  082B	86 90		MOV P1, @R0           ; Check in 10 cycles
 4291:
 4292:
 4293:
 4294:
 4295:
 4296:
 4297:
 4298:
 4299:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 78



 Line  I  Addr  Code            Source

 4300:
 4301:
 4302:
 4303:
 4304:
 4305:
 4306:
 4307:
 4308:
 4309:
 4310:
 4311:
 4312:
 4313:
 4314:
 4315:
 4316:
 4317:
 4318:
 4319:
 4320:
 4321:	  082D	75 90 94	MOV P1, #094H ; SUBB_A_DATA
 4322:	  0830	75 90 8E	MOV P1, #08EH
 4323:	  0833	75 90 B1	MOV P1, #0B1H
 4324:	  0836	74 8E		MOV A,  #08EH
 4325:	  0838	94 B1		SUBB A,  #0B1H
 4326:	  083A	F5 90		MOV P1, A               ; Check P1 - 6 cycles - operand2 - operand3
 4327:
 4328:
 4329:
 4330:
 4331:
 4332:
 4333:
 4334:
 4335:
 4336:
 4337:
 4338:
 4339:
 4340:
 4341:
 4342:
 4343:
 4344:
 4345:
 4346:
 4347:
 4348:
 4349:
 4350:
 4351:
 4352:
 4353:
 4354:
 4355:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 79



 Line  I  Addr  Code            Source

 4356:
 4357:
 4358:
 4359:
 4360:
 4361:	  083C	75 90 C0	MOV P1, #0C0H ; PUSH
 4362:	  083F	75 90 BA	MOV P1, #0BAH
 4363:	  0842	75 90 A2	MOV P1, #0A2H
 4364:	  0845	85 81 90	MOV P1, SP             ; get actual SP
 4365:	  0848	A9 81		MOV R1, SP             ; save actual SP
 4366:	  084A	75 BA A2	MOV 0BAH, #0A2H
 4367:	  084D	C0 BA		PUSH 0BAH
 4368:	  084F	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 4369:	  0852	87 90		MOV P1, @R1
 4370:
 4371:
 4372:
 4373:
 4374:
 4375:
 4376:
 4377:
 4378:
 4379:
 4380:
 4381:
 4382:
 4383:
 4384:
 4385:
 4386:
 4387:
 4388:
 4389:
 4390:
 4391:
 4392:
 4393:
 4394:
 4395:
 4396:
 4397:
 4398:
 4399:
 4400:
 4401:	  0854	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 4402:	  0857	75 90 20	MOV P1, #020H
 4403:	  085A	75 90 04	MOV P1, #04H
 4404:	  085D	75 20 04	MOV 020H, #04H
 4405:	  0860	78 20		MOV R0,  #020H ; R0 must have 01h
 4406:	  0862	88 90		MOV P1, R0             ; Check in 6 cycles
 4407:
 4408:
 4409:
 4410:
 4411:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 80



 Line  I  Addr  Code            Source

 4412:
 4413:
 4414:
 4415:
 4416:
 4417:
 4418:
 4419:
 4420:
 4421:
 4422:
 4423:
 4424:
 4425:
 4426:
 4427:
 4428:
 4429:
 4430:
 4431:
 4432:
 4433:
 4434:
 4435:
 4436:
 4437:
 4438:
 4439:
 4440:
 4441:	  0864	75 90 16	MOV P1, #016H ; DEC_R0
 4442:	  0867	75 90 28	MOV P1, #028H
 4443:	  086A	75 90 36	MOV P1, #036H
 4444:	  086D	78 28		MOV R0, #028H
 4445:	  086F	75 28 36	MOV 028H, #036H
 4446:	  0872	16		DEC @R0
 4447:	  0873	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 4448:
 4449:
 4450:
 4451:
 4452:
 4453:
 4454:
 4455:
 4456:
 4457:
 4458:
 4459:
 4460:
 4461:
 4462:
 4463:
 4464:
 4465:
 4466:
 4467:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 81



 Line  I  Addr  Code            Source

 4468:
 4469:
 4470:
 4471:
 4472:
 4473:
 4474:
 4475:
 4476:
 4477:
 4478:
 4479:
 4480:
 4481:	  0875	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 4482:	  0878	75 90 9B	MOV P1, #09BH
 4483:	  087B	75 90 1E	MOV P1, #01EH
 4484:	  087E	75 9B 1E	MOV 09BH, #01EH
 4485:	  0881	78 9B		MOV R0,  #09BH ; R0 must have 01h
 4486:	  0883	88 90		MOV P1, R0             ; Check in 6 cycles
 4487:
 4488:
 4489:
 4490:
 4491:
 4492:
 4493:
 4494:
 4495:
 4496:
 4497:
 4498:
 4499:
 4500:
 4501:
 4502:
 4503:
 4504:
 4505:
 4506:
 4507:
 4508:
 4509:
 4510:
 4511:
 4512:
 4513:
 4514:
 4515:
 4516:
 4517:
 4518:
 4519:
 4520:
 4521:	  0885	75 90 53	MOV P1, #053H ; ANL_D_DATA
 4522:	  0888	75 90 55	MOV P1, #055H
 4523:	  088B	75 90 77	MOV P1, #077H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 82



 Line  I  Addr  Code            Source

 4524:	  088E	75 90 F3	MOV P1, #0F3H
 4525:	  0891	75 55 77	MOV 055H, #077H
 4526:	  0894	53 55 F3	ANL 055H, #0F3H
 4527:	  0897	85 55 90	MOV P1, 055H  ;check P1 (operand3 and operand4) -> 7 cycles
 4528:
 4529:
 4530:
 4531:
 4532:
 4533:
 4534:
 4535:
 4536:
 4537:
 4538:
 4539:
 4540:
 4541:
 4542:
 4543:
 4544:
 4545:
 4546:
 4547:
 4548:
 4549:
 4550:
 4551:
 4552:
 4553:
 4554:
 4555:
 4556:
 4557:
 4558:
 4559:
 4560:
 4561:	  089A	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 4562:	  089D	75 90 D1	MOV P1, #0D1H
 4563:	  08A0	02 08 A9	JMP INI_JNB_115
 4564:	  08A3	75 90 FF	LABEL_JNB_115: MOV P1, #0FFH
 4565:	  08A6	02 08 B1	JMP BACK_JNB_115
 4566:	  08A9	75 90 54	INI_JNB_115: MOV P1, #054H
 4567:	  08AC	C2 54		CLR 054H
 4568:	  08AE	30 54 F2	JNB 054H, LABEL_JNB_115
 4569:	  08B1	75 90 FE	BACK_JNB_115: MOV P1, #0FEH
 4570:
 4571:
 4572:
 4573:
 4574:
 4575:
 4576:
 4577:
 4578:
 4579:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 83



 Line  I  Addr  Code            Source

 4580:
 4581:
 4582:
 4583:
 4584:
 4585:
 4586:
 4587:
 4588:
 4589:
 4590:
 4591:
 4592:
 4593:
 4594:
 4595:
 4596:
 4597:
 4598:
 4599:
 4600:
 4601:	  08B4	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 4602:	  08B7	75 90 84	MOV P1, #084H
 4603:	  08BA	02 08 C3	JMP INI_JNB_116
 4604:	  08BD	75 90 FF	LABEL_JNB_116: MOV P1, #0FFH
 4605:	  08C0	02 08 CB	JMP BACK_JNB_116
 4606:	  08C3	75 90 75	INI_JNB_116: MOV P1, #075H
 4607:	  08C6	C2 75		CLR 075H
 4608:	  08C8	30 75 F2	JNB 075H, LABEL_JNB_116
 4609:	  08CB	75 90 FE	BACK_JNB_116: MOV P1, #0FEH
 4610:
 4611:
 4612:
 4613:
 4614:
 4615:
 4616:
 4617:
 4618:
 4619:
 4620:
 4621:
 4622:
 4623:
 4624:
 4625:
 4626:
 4627:
 4628:
 4629:
 4630:
 4631:
 4632:
 4633:
 4634:
 4635:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 84



 Line  I  Addr  Code            Source

 4636:
 4637:
 4638:
 4639:
 4640:
 4641:	  08CE	75 90 34	MOV P1, #034H ; ADDC_A_DATA
 4642:	  08D1	75 90 AA	MOV P1, #0AAH
 4643:	  08D4	75 90 EB	MOV P1, #0EBH
 4644:	  08D7	74 AA		MOV  A,  #0AAH
 4645:	  08D9	34 EB		ADDC  A,  #0EBH
 4646:	  08DB	F5 90		MOV P1, A               ; check A - 6 cycles
 4647:
 4648:
 4649:
 4650:
 4651:
 4652:
 4653:
 4654:
 4655:
 4656:
 4657:
 4658:
 4659:
 4660:
 4661:
 4662:
 4663:
 4664:
 4665:
 4666:
 4667:
 4668:
 4669:
 4670:
 4671:
 4672:
 4673:
 4674:
 4675:
 4676:
 4677:
 4678:
 4679:
 4680:
 4681:	  08DD	75 90 24	MOV P1, #024H ; ADD_A_DATA
 4682:	  08E0	75 90 71	MOV P1, #071H
 4683:	  08E3	75 90 63	MOV P1, #063H
 4684:	  08E6	74 71		MOV  A,  #071H
 4685:	  08E8	24 63		ADD  A,  #063H
 4686:	  08EA	F5 90		MOV P1, A; check (operand2 + operand3) -> 6 cycles
 4687:
 4688:
 4689:
 4690:
 4691:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 85



 Line  I  Addr  Code            Source

 4692:
 4693:
 4694:
 4695:
 4696:
 4697:
 4698:
 4699:
 4700:
 4701:
 4702:
 4703:
 4704:
 4705:
 4706:
 4707:
 4708:
 4709:
 4710:
 4711:
 4712:
 4713:
 4714:
 4715:
 4716:
 4717:
 4718:
 4719:
 4720:
 4721:	  08EC	75 90 45	MOV P1, #045H ; ORL_A_D
 4722:	  08EF	75 90 B5	MOV P1, #0B5H
 4723:	  08F2	75 90 96	MOV P1, #096H
 4724:	  08F5	75 90 1C	MOV P1, #01CH
 4725:	  08F8	74 B5		MOV  A,  #0B5H
 4726:	  08FA	75 1C 96	MOV 01CH, #096H
 4727:	  08FD	45 1C		ORL  A,  01CH
 4728:	  08FF	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 4729:
 4730:
 4731:
 4732:
 4733:
 4734:
 4735:
 4736:
 4737:
 4738:
 4739:
 4740:
 4741:
 4742:
 4743:
 4744:
 4745:
 4746:
 4747:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 86



 Line  I  Addr  Code            Source

 4748:
 4749:
 4750:
 4751:
 4752:
 4753:
 4754:
 4755:
 4756:
 4757:
 4758:
 4759:
 4760:
 4761:	  0901	75 90 03	MOV P1, #003H ; RR_A
 4762:	  0904	74 01		MOV A, #01H
 4763:	  0906	75 90 01	MOV P1, #01H
 4764:	  0909	03		RR A
 4765:	  090A	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 4766:
 4767:
 4768:
 4769:
 4770:
 4771:
 4772:
 4773:
 4774:
 4775:
 4776:
 4777:
 4778:
 4779:
 4780:
 4781:
 4782:
 4783:
 4784:
 4785:
 4786:
 4787:
 4788:
 4789:
 4790:
 4791:
 4792:
 4793:
 4794:
 4795:
 4796:
 4797:
 4798:
 4799:
 4800:
 4801:	  090C	75 90 68	MOV P1, #068H ; XRL_A_R0
 4802:	  090F	75 90 0D	MOV P1, #0DH
 4803:	  0912	75 90 A3	MOV P1, #0A3H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 87



 Line  I  Addr  Code            Source

 4804:	  0915	74 0D		MOV  A,  #0DH
 4805:	  0917	78 A3		MOV  R0,  #0A3H
 4806:	  0919	68		XRL  A, R0             ; A or R0
 4807:	  091A	F5 90		MOV  P1, A             ; Check A - 7 cycles
 4808:
 4809:
 4810:
 4811:
 4812:
 4813:
 4814:
 4815:
 4816:
 4817:
 4818:
 4819:
 4820:
 4821:
 4822:
 4823:
 4824:
 4825:
 4826:
 4827:
 4828:
 4829:
 4830:
 4831:
 4832:
 4833:
 4834:
 4835:
 4836:
 4837:
 4838:
 4839:
 4840:
 4841:	  091C	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 4842:	  091F	75 90 70	MOV P1, #070H
 4843:	  0922	75 90 4C	MOV P1, #04CH
 4844:	  0925	75 90 59	MOV P1, #059H
 4845:	  0928	74 70		MOV A, #070H
 4846:	  092A	78 4C		MOV R0, #04CH
 4847:	  092C	75 4C 59	MOV 04CH, #059H
 4848:	  092F	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 4849:	  0930	F5 90		MOV P1, A                ; Check in 9 cycles
 4850:	  0932	86 90		MOV P1, @R0           ; Check in 10 cycles
 4851:
 4852:
 4853:
 4854:
 4855:
 4856:
 4857:
 4858:
 4859:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 88



 Line  I  Addr  Code            Source

 4860:
 4861:
 4862:
 4863:
 4864:
 4865:
 4866:
 4867:
 4868:
 4869:
 4870:
 4871:
 4872:
 4873:
 4874:
 4875:
 4876:
 4877:
 4878:
 4879:
 4880:
 4881:	  0934	75 90 05	MOV P1, #05H ; INC_D
 4882:	  0937	75 90 8F	MOV P1, #08FH
 4883:	  093A	74 8F		MOV A, #08FH
 4884:	  093C	04		INC A
 4885:	  093D	F5 90		MOV P1, A
 4886:
 4887:
 4888:
 4889:
 4890:
 4891:
 4892:
 4893:
 4894:
 4895:
 4896:
 4897:
 4898:
 4899:
 4900:
 4901:
 4902:
 4903:
 4904:
 4905:
 4906:
 4907:
 4908:
 4909:
 4910:
 4911:
 4912:
 4913:
 4914:
 4915:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 89



 Line  I  Addr  Code            Source

 4916:
 4917:
 4918:
 4919:
 4920:
 4921:	  093F	75 90 03	MOV P1, #003H ; RR_A
 4922:	  0942	74 10		MOV A, #010H
 4923:	  0944	75 90 10	MOV P1, #010H
 4924:	  0947	03		RR A
 4925:	  0948	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 4926:
 4927:
 4928:
 4929:
 4930:
 4931:
 4932:
 4933:
 4934:
 4935:
 4936:
 4937:
 4938:
 4939:
 4940:
 4941:
 4942:
 4943:
 4944:
 4945:
 4946:
 4947:
 4948:
 4949:
 4950:
 4951:
 4952:
 4953:
 4954:
 4955:
 4956:
 4957:
 4958:
 4959:
 4960:
 4961:	  094A	75 90 C4	MOV P1, #0C4H ; SWAP_A
 4962:	  094D	75 90 20	MOV P1, #020H
 4963:	  0950	74 20		MOV A,  #020H
 4964:	  0952	C4		SWAP A
 4965:	  0953	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 4966:
 4967:
 4968:
 4969:
 4970:
 4971:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 90



 Line  I  Addr  Code            Source

 4972:
 4973:
 4974:
 4975:
 4976:
 4977:
 4978:
 4979:
 4980:
 4981:
 4982:
 4983:
 4984:
 4985:
 4986:
 4987:
 4988:
 4989:
 4990:
 4991:
 4992:
 4993:
 4994:
 4995:
 4996:
 4997:
 4998:
 4999:
 5000:
 5001:	  0955	75 90 00	MOV P1, #00H ; NOP
 5002:	  0958	00		NOP
 5003:
 5004:
 5005:
 5006:
 5007:
 5008:
 5009:
 5010:
 5011:
 5012:
 5013:
 5014:
 5015:
 5016:
 5017:
 5018:
 5019:
 5020:
 5021:
 5022:
 5023:
 5024:
 5025:
 5026:
 5027:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 91



 Line  I  Addr  Code            Source

 5028:
 5029:
 5030:
 5031:
 5032:
 5033:
 5034:
 5035:
 5036:
 5037:
 5038:
 5039:
 5040:
 5041:	  0959	75 90 D4	MOV P1, #0D4H ; DA_A
 5042:	  095C	75 90 85	MOV P1, #085H
 5043:	  095F	85 D0 90	MOV P1, PSW
 5044:	  0962	74 85		MOV A, #085H
 5045:	  0964	D4		DA A
 5046:	  0965	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 5047:
 5048:
 5049:
 5050:
 5051:
 5052:
 5053:
 5054:
 5055:
 5056:
 5057:
 5058:
 5059:
 5060:
 5061:
 5062:
 5063:
 5064:
 5065:
 5066:
 5067:
 5068:
 5069:
 5070:
 5071:
 5072:
 5073:
 5074:
 5075:
 5076:
 5077:
 5078:
 5079:
 5080:
 5081:	  0967	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 5082:	  096A	75 90 5C	MOV P1, #05CH
 5083:	  096D	75 90 29	MOV P1, #029H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 92



 Line  I  Addr  Code            Source

 5084:	  0970	75 90 4A	MOV P1, #04AH
 5085:	  0973	74 5C		MOV A, #05CH
 5086:	  0975	79 29		MOV R1, #029H
 5087:	  0977	75 29 4A	MOV 029H, #04AH
 5088:	  097A	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 5089:	  097B	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 5090:	  097D	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 5091:
 5092:
 5093:
 5094:
 5095:
 5096:
 5097:
 5098:
 5099:
 5100:
 5101:
 5102:
 5103:
 5104:
 5105:
 5106:
 5107:
 5108:
 5109:
 5110:
 5111:
 5112:
 5113:
 5114:
 5115:
 5116:
 5117:
 5118:
 5119:
 5120:
 5121:	  097F	75 90 20	MOV P1, #20H ; JB and SETB
 5122:	  0982	02 09 8B	JMP INI_JB_129
 5123:	  0985	75 90 FF	LABEL_JB_129: MOV P1, #0FFH
 5124:	  0988	02 09 93	JMP BACK_JB_129
 5125:	  098B	75 90 7B	INI_JB_129: MOV P1, #07BH
 5126:	  098E	D2 7B		SETB 07BH
 5127:	  0990	20 7B F2	JB 07BH, LABEL_JB_129
 5128:	  0993	75 90 FE	BACK_JB_129: MOV P1, #0FEH
 5129:
 5130:
 5131:
 5132:
 5133:
 5134:
 5135:
 5136:
 5137:
 5138:
 5139:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 93



 Line  I  Addr  Code            Source

 5140:
 5141:
 5142:
 5143:
 5144:
 5145:
 5146:
 5147:
 5148:
 5149:
 5150:
 5151:
 5152:
 5153:
 5154:
 5155:
 5156:
 5157:
 5158:
 5159:
 5160:
 5161:	  0996	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 5162:	  0999	75 90 DF	MOV P1, #0DFH
 5163:	  099C	75 90 D1	MOV P1, #0D1H
 5164:	  099F	75 DF D1	MOV 0DFH, #0D1H
 5165:	  09A2	78 DF		MOV R0,  #0DFH ; R0 must have 01h
 5166:	  09A4	88 90		MOV P1, R0             ; Check in 6 cycles
 5167:
 5168:
 5169:
 5170:
 5171:
 5172:
 5173:
 5174:
 5175:
 5176:
 5177:
 5178:
 5179:
 5180:
 5181:
 5182:
 5183:
 5184:
 5185:
 5186:
 5187:
 5188:
 5189:
 5190:
 5191:
 5192:
 5193:
 5194:
 5195:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 94



 Line  I  Addr  Code            Source

 5196:
 5197:
 5198:
 5199:
 5200:
 5201:	  09A6	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 5202:	  09A9	75 90 57	MOV P1, #057H
 5203:	  09AC	75 90 94	MOV P1, #094H
 5204:	  09AF	75 57 94	MOV 057H, #094H
 5205:	  09B2	00		LABEL_DJNZ_131: NOP
 5206:	  09B3	D5 57 FC	DJNZ 057H, LABEL_DJNZ_131; loop nop data_1 times
 5207:	  09B6	85 57 90	MOV P1, 057H ; Check in 10 cycles - P1 must have previous P1 -1
 5208:	  09B9	75 90 12	MOV P1, #012H ; CALL
 5209:	  09BC	12 00 44	CALL LABEL_CALL
 5210:	  09BF	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 5211:
 5212:
 5213:
 5214:
 5215:
 5216:
 5217:
 5218:
 5219:
 5220:
 5221:
 5222:
 5223:
 5224:
 5225:
 5226:
 5227:
 5228:
 5229:
 5230:
 5231:
 5232:
 5233:
 5234:
 5235:
 5236:
 5237:
 5238:
 5239:
 5240:
 5241:	  09C2	75 90 85	MOV P1, #085H ; MOV_D_D
 5242:	  09C5	75 90 69	MOV P1, #069H
 5243:	  09C8	75 90 48	MOV P1, #048H
 5244:	  09CB	75 90 DA	MOV P1, #0DAH
 5245:	  09CE	75 69 48	MOV 069H, #048H
 5246:	  09D1	85 69 DA	MOV 0DAH, 069H ; addr must have data_1
 5247:	  09D4	85 DA 90	MOV P1, 0DAH        ; Check in 7 cycles
 5248:
 5249:
 5250:
 5251:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 95



 Line  I  Addr  Code            Source

 5252:
 5253:
 5254:
 5255:
 5256:
 5257:
 5258:
 5259:
 5260:
 5261:
 5262:
 5263:
 5264:
 5265:
 5266:
 5267:
 5268:
 5269:
 5270:
 5271:
 5272:
 5273:
 5274:
 5275:
 5276:
 5277:
 5278:
 5279:
 5280:
 5281:	  09D7	75 90 85	MOV P1, #085H ; MOV_D_D
 5282:	  09DA	75 90 54	MOV P1, #054H
 5283:	  09DD	75 90 56	MOV P1, #056H
 5284:	  09E0	75 90 37	MOV P1, #037H
 5285:	  09E3	75 54 56	MOV 054H, #056H
 5286:	  09E6	85 54 37	MOV 037H, 054H ; addr must have data_1
 5287:	  09E9	85 37 90	MOV P1, 037H        ; Check in 7 cycles
 5288:
 5289:
 5290:
 5291:
 5292:
 5293:
 5294:
 5295:
 5296:
 5297:
 5298:
 5299:
 5300:
 5301:
 5302:
 5303:
 5304:
 5305:
 5306:
 5307:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 96



 Line  I  Addr  Code            Source

 5308:
 5309:
 5310:
 5311:
 5312:
 5313:
 5314:
 5315:
 5316:
 5317:
 5318:
 5319:
 5320:
 5321:	  09EC	75 90 45	MOV P1, #045H ; ORL_A_D
 5322:	  09EF	75 90 A4	MOV P1, #0A4H
 5323:	  09F2	75 90 20	MOV P1, #020H
 5324:	  09F5	75 90 AE	MOV P1, #0AEH
 5325:	  09F8	74 A4		MOV  A,  #0A4H
 5326:	  09FA	75 AE 20	MOV 0AEH, #020H
 5327:	  09FD	45 AE		ORL  A,  0AEH
 5328:	  09FF	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 5329:
 5330:
 5331:
 5332:
 5333:
 5334:
 5335:
 5336:
 5337:
 5338:
 5339:
 5340:
 5341:
 5342:
 5343:
 5344:
 5345:
 5346:
 5347:
 5348:
 5349:
 5350:
 5351:
 5352:
 5353:
 5354:
 5355:
 5356:
 5357:
 5358:
 5359:
 5360:
 5361:	  0A01	75 90 85	MOV P1, #085H ; MOV_D_D
 5362:	  0A04	75 90 D3	MOV P1, #0D3H
 5363:	  0A07	75 90 B3	MOV P1, #0B3H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 97



 Line  I  Addr  Code            Source

 5364:	  0A0A	75 90 77	MOV P1, #077H
 5365:	  0A0D	75 D3 B3	MOV 0D3H, #0B3H
 5366:	  0A10	85 D3 77	MOV 077H, 0D3H ; addr must have data_1
 5367:	  0A13	85 77 90	MOV P1, 077H        ; Check in 7 cycles
 5368:
 5369:
 5370:
 5371:
 5372:
 5373:
 5374:
 5375:
 5376:
 5377:
 5378:
 5379:
 5380:
 5381:
 5382:
 5383:
 5384:
 5385:
 5386:
 5387:
 5388:
 5389:
 5390:
 5391:
 5392:
 5393:
 5394:
 5395:
 5396:
 5397:
 5398:
 5399:
 5400:
 5401:	  0A16	75 90 53	MOV P1, #053H ; ANL_D_DATA
 5402:	  0A19	75 90 C0	MOV P1, #0C0H
 5403:	  0A1C	75 90 8A	MOV P1, #08AH
 5404:	  0A1F	75 90 87	MOV P1, #087H
 5405:	  0A22	75 C0 8A	MOV 0C0H, #08AH
 5406:	  0A25	53 C0 87	ANL 0C0H, #087H
 5407:	  0A28	85 C0 90	MOV P1, 0C0H  ;check P1 (operand3 and operand4) -> 7 cycles
 5408:
 5409:
 5410:
 5411:
 5412:
 5413:
 5414:
 5415:
 5416:
 5417:
 5418:
 5419:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 98



 Line  I  Addr  Code            Source

 5420:
 5421:
 5422:
 5423:
 5424:
 5425:
 5426:
 5427:
 5428:
 5429:
 5430:
 5431:
 5432:
 5433:
 5434:
 5435:
 5436:
 5437:
 5438:
 5439:
 5440:
 5441:	  0A2B	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 5442:	  0A2E	75 90 31	MOV P1, #031H
 5443:	  0A31	75 90 91	MOV P1, #091H
 5444:	  0A34	75 31 91	MOV 031H, #091H
 5445:	  0A37	00		LABEL_DJNZ_137: NOP
 5446:	  0A38	D5 31 FC	DJNZ 031H, LABEL_DJNZ_137; loop nop data_1 times
 5447:	  0A3B	85 31 90	MOV P1, 031H ; Check in 10 cycles - P1 must have previous P1 -1
 5448:	  0A3E	75 90 12	MOV P1, #012H ; CALL
 5449:	  0A41	12 00 44	CALL LABEL_CALL
 5450:	  0A44	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 5451:
 5452:
 5453:
 5454:
 5455:
 5456:
 5457:
 5458:
 5459:
 5460:
 5461:
 5462:
 5463:
 5464:
 5465:
 5466:
 5467:
 5468:
 5469:
 5470:
 5471:
 5472:
 5473:
 5474:
 5475:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                         PAGE 99



 Line  I  Addr  Code            Source

 5476:
 5477:
 5478:
 5479:
 5480:
 5481:	  0A47	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 5482:	  0A4A	75 90 FB	MOV P1, #0FBH
 5483:	  0A4D	74 FB		MOV A, #0FBH
 5484:	  0A4F	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 5485:	  0A50	F5 90		MOV P1, A
 5486:
 5487:
 5488:
 5489:
 5490:
 5491:
 5492:
 5493:
 5494:
 5495:
 5496:
 5497:
 5498:
 5499:
 5500:
 5501:
 5502:
 5503:
 5504:
 5505:
 5506:
 5507:
 5508:
 5509:
 5510:
 5511:
 5512:
 5513:
 5514:
 5515:
 5516:
 5517:
 5518:
 5519:
 5520:
 5521:	  0A52	75 90 84	MOV P1, #084H ; DIV_A_B
 5522:	  0A55	75 90 48	MOV P1, #048H
 5523:	  0A58	75 90 BE	MOV P1, #0BEH
 5524:	  0A5B	74 48		MOV A,  #048H
 5525:	  0A5D	75 F0 BE	MOV B,  #0BEH
 5526:	  0A60	84		DIV AB
 5527:	  0A61	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 5528:	  0A63	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 5529:
 5530:
 5531:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 100



 Line  I  Addr  Code            Source

 5532:
 5533:
 5534:
 5535:
 5536:
 5537:
 5538:
 5539:
 5540:
 5541:
 5542:
 5543:
 5544:
 5545:
 5546:
 5547:
 5548:
 5549:
 5550:
 5551:
 5552:
 5553:
 5554:
 5555:
 5556:
 5557:
 5558:
 5559:
 5560:
 5561:	  0A66	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 5562:	  0A69	75 90 F5	MOV P1, #0F5H
 5563:	  0A6C	75 90 4F	MOV P1, #04FH
 5564:	  0A6F	75 90 ED	MOV P1, #0EDH
 5565:	  0A72	74 F5		MOV A, #0F5H
 5566:	  0A74	78 4F		MOV R0, #04FH
 5567:	  0A76	75 4F ED	MOV 04FH, #0EDH
 5568:	  0A79	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 5569:	  0A7A	F5 90		MOV P1, A                ; Check in 9 cycles
 5570:	  0A7C	86 90		MOV P1, @R0           ; Check in 10 cycles
 5571:
 5572:
 5573:
 5574:
 5575:
 5576:
 5577:
 5578:
 5579:
 5580:
 5581:
 5582:
 5583:
 5584:
 5585:
 5586:
 5587:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 101



 Line  I  Addr  Code            Source

 5588:
 5589:
 5590:
 5591:
 5592:
 5593:
 5594:
 5595:
 5596:
 5597:
 5598:
 5599:
 5600:
 5601:	  0A7E	75 90 70	MOV P1, #70H ; JNZ
 5602:	  0A81	75 90 7F	MOV P1, #07FH
 5603:	  0A84	02 0A 8D	JMP INI_JNZ_141
 5604:	  0A87	75 90 FF	LABEL_JNZ_141: MOV P1, #0FFH
 5605:	  0A8A	02 0A 94	JMP BACK_JNZ_141
 5606:	  0A8D	75 90 7F	INI_JNZ_141: MOV P1, #07FH
 5607:	  0A90	74 7F		MOV A, #07FH
 5608:	  0A92	70 F3		JNZ LABEL_JNZ_141
 5609:	  0A94	75 90 FE	BACK_JNZ_141: MOV P1, #0FEH
 5610:
 5611:
 5612:
 5613:
 5614:
 5615:
 5616:
 5617:
 5618:
 5619:
 5620:
 5621:
 5622:
 5623:
 5624:
 5625:
 5626:
 5627:
 5628:
 5629:
 5630:
 5631:
 5632:
 5633:
 5634:
 5635:
 5636:
 5637:
 5638:
 5639:
 5640:
 5641:	  0A97	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 5642:	  0A9A	75 90 D3	MOV P1, #0D3H
 5643:	  0A9D	75 90 57	MOV P1, #057H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 102



 Line  I  Addr  Code            Source

 5644:	  0AA0	75 90 91	MOV P1, #091H
 5645:	  0AA3	74 D3		MOV A, #0D3H
 5646:	  0AA5	79 57		MOV R1, #057H
 5647:	  0AA7	75 57 91	MOV 057H, #091H
 5648:	  0AAA	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 5649:	  0AAB	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 5650:	  0AAD	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 5651:
 5652:
 5653:
 5654:
 5655:
 5656:
 5657:
 5658:
 5659:
 5660:
 5661:
 5662:
 5663:
 5664:
 5665:
 5666:
 5667:
 5668:
 5669:
 5670:
 5671:
 5672:
 5673:
 5674:
 5675:
 5676:
 5677:
 5678:
 5679:
 5680:
 5681:	  0AAF	75 90 85	MOV P1, #085H ; MOV_D_D
 5682:	  0AB2	75 90 47	MOV P1, #047H
 5683:	  0AB5	75 90 44	MOV P1, #044H
 5684:	  0AB8	75 90 C0	MOV P1, #0C0H
 5685:	  0ABB	75 47 44	MOV 047H, #044H
 5686:	  0ABE	85 47 C0	MOV 0C0H, 047H ; addr must have data_1
 5687:	  0AC1	85 C0 90	MOV P1, 0C0H        ; Check in 7 cycles
 5688:
 5689:
 5690:
 5691:
 5692:
 5693:
 5694:
 5695:
 5696:
 5697:
 5698:
 5699:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 103



 Line  I  Addr  Code            Source

 5700:
 5701:
 5702:
 5703:
 5704:
 5705:
 5706:
 5707:
 5708:
 5709:
 5710:
 5711:
 5712:
 5713:
 5714:
 5715:
 5716:
 5717:
 5718:
 5719:
 5720:
 5721:	  0AC4	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 5722:	  0AC7	75 90 4B	MOV P1, #04BH
 5723:	  0ACA	74 4B		MOV A, #04BH
 5724:	  0ACC	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 5725:	  0ACD	F5 90		MOV P1, A
 5726:
 5727:
 5728:
 5729:
 5730:
 5731:
 5732:
 5733:
 5734:
 5735:
 5736:
 5737:
 5738:
 5739:
 5740:
 5741:
 5742:
 5743:
 5744:
 5745:
 5746:
 5747:
 5748:
 5749:
 5750:
 5751:
 5752:
 5753:
 5754:
 5755:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 104



 Line  I  Addr  Code            Source

 5756:
 5757:
 5758:
 5759:
 5760:
 5761:	  0ACF	75 90 24	MOV P1, #024H ; ADD_A_DATA
 5762:	  0AD2	75 90 C2	MOV P1, #0C2H
 5763:	  0AD5	75 90 3F	MOV P1, #03FH
 5764:	  0AD8	74 C2		MOV  A,  #0C2H
 5765:	  0ADA	24 3F		ADD  A,  #03FH
 5766:	  0ADC	F5 90		MOV P1, A; check (operand2 + operand3) -> 6 cycles
 5767:
 5768:
 5769:
 5770:
 5771:
 5772:
 5773:
 5774:
 5775:
 5776:
 5777:
 5778:
 5779:
 5780:
 5781:
 5782:
 5783:
 5784:
 5785:
 5786:
 5787:
 5788:
 5789:
 5790:
 5791:
 5792:
 5793:
 5794:
 5795:
 5796:
 5797:
 5798:
 5799:
 5800:
 5801:	  0ADE	75 90 16	MOV P1, #016H ; DEC_R0
 5802:	  0AE1	75 90 76	MOV P1, #076H
 5803:	  0AE4	75 90 FC	MOV P1, #0FCH
 5804:	  0AE7	78 76		MOV R0, #076H
 5805:	  0AE9	75 76 FC	MOV 076H, #0FCH
 5806:	  0AEC	16		DEC @R0
 5807:	  0AED	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 5808:
 5809:
 5810:
 5811:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 105



 Line  I  Addr  Code            Source

 5812:
 5813:
 5814:
 5815:
 5816:
 5817:
 5818:
 5819:
 5820:
 5821:
 5822:
 5823:
 5824:
 5825:
 5826:
 5827:
 5828:
 5829:
 5830:
 5831:
 5832:
 5833:
 5834:
 5835:
 5836:
 5837:
 5838:
 5839:
 5840:
 5841:	  0AEF	75 90 C4	MOV P1, #0C4H ; SWAP_A
 5842:	  0AF2	75 90 2E	MOV P1, #02EH
 5843:	  0AF5	74 2E		MOV A,  #02EH
 5844:	  0AF7	C4		SWAP A
 5845:	  0AF8	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 5846:
 5847:
 5848:
 5849:
 5850:
 5851:
 5852:
 5853:
 5854:
 5855:
 5856:
 5857:
 5858:
 5859:
 5860:
 5861:
 5862:
 5863:
 5864:
 5865:
 5866:
 5867:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 106



 Line  I  Addr  Code            Source

 5868:
 5869:
 5870:
 5871:
 5872:
 5873:
 5874:
 5875:
 5876:
 5877:
 5878:
 5879:
 5880:
 5881:	  0AFA	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 5882:	  0AFD	75 90 9C	MOV P1, #09CH
 5883:	  0B00	75 90 62	MOV P1, #062H
 5884:	  0B03	75 90 43	MOV P1, #043H
 5885:	  0B06	74 9C		MOV A, #09CH
 5886:	  0B08	79 62		MOV R1, #062H
 5887:	  0B0A	75 62 43	MOV 062H, #043H
 5888:	  0B0D	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 5889:	  0B0E	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 5890:	  0B10	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 5891:
 5892:
 5893:
 5894:
 5895:
 5896:
 5897:
 5898:
 5899:
 5900:
 5901:
 5902:
 5903:
 5904:
 5905:
 5906:
 5907:
 5908:
 5909:
 5910:
 5911:
 5912:
 5913:
 5914:
 5915:
 5916:
 5917:
 5918:
 5919:
 5920:
 5921:	  0B12	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 5922:	  0B15	75 90 B6	MOV P1, #0B6H
 5923:	  0B18	75 90 36	MOV P1, #036H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 107



 Line  I  Addr  Code            Source

 5924:	  0B1B	90 36 B6	MOV DPTR,  #036B6H
 5925:	  0B1E	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 5926:	  0B21	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 5927:
 5928:
 5929:
 5930:
 5931:
 5932:
 5933:
 5934:
 5935:
 5936:
 5937:
 5938:
 5939:
 5940:
 5941:
 5942:
 5943:
 5944:
 5945:
 5946:
 5947:
 5948:
 5949:
 5950:
 5951:
 5952:
 5953:
 5954:
 5955:
 5956:
 5957:
 5958:
 5959:
 5960:
 5961:	  0B24	75 90 45	MOV P1, #045H ; ORL_A_D
 5962:	  0B27	75 90 80	MOV P1, #080H
 5963:	  0B2A	75 90 28	MOV P1, #028H
 5964:	  0B2D	75 90 72	MOV P1, #072H
 5965:	  0B30	74 80		MOV  A,  #080H
 5966:	  0B32	75 72 28	MOV 072H, #028H
 5967:	  0B35	45 72		ORL  A,  072H
 5968:	  0B37	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 5969:
 5970:
 5971:
 5972:
 5973:
 5974:
 5975:
 5976:
 5977:
 5978:
 5979:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 108



 Line  I  Addr  Code            Source

 5980:
 5981:
 5982:
 5983:
 5984:
 5985:
 5986:
 5987:
 5988:
 5989:
 5990:
 5991:
 5992:
 5993:
 5994:
 5995:
 5996:
 5997:
 5998:
 5999:
 6000:
 6001:	  0B39	75 90 10	MOV P1, #10H ; JBC
 6002:	  0B3C	02 0B 45	JMP INI_JBC_151
 6003:	  0B3F	75 90 FF	LABEL_JBC_151: MOV P1, #0FFH ; inform JMP OK
 6004:	  0B42	02 0B 54	JMP BACK_JBC_151
 6005:	  0B45	75 90 25	INI_JBC_151: MOV P1, #025H
 6006:	  0B48	75 90 2E	MOV P1, #02EH
 6007:	  0B4B	75 90 BD	MOV P1, #0BDH
 6008:	  0B4E	75 25 BD	MOV 025H, #0BDH
 6009:	  0B51	10 2E EB	JBC 02EH, LABEL_JBC_151
 6010:	  0B54	75 90 FE	BACK_JBC_151: MOV P1, #0FEH ; inform JMP BACK OK
 6011:
 6012:
 6013:
 6014:
 6015:
 6016:
 6017:
 6018:
 6019:
 6020:
 6021:
 6022:
 6023:
 6024:
 6025:
 6026:
 6027:
 6028:
 6029:
 6030:
 6031:
 6032:
 6033:
 6034:
 6035:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 109



 Line  I  Addr  Code            Source

 6036:
 6037:
 6038:
 6039:
 6040:
 6041:	  0B57	75 90 20	MOV P1, #20H ; JB and SETB
 6042:	  0B5A	02 0B 63	JMP INI_JB_152
 6043:	  0B5D	75 90 FF	LABEL_JB_152: MOV P1, #0FFH
 6044:	  0B60	02 0B 6B	JMP BACK_JB_152
 6045:	  0B63	75 90 7A	INI_JB_152: MOV P1, #07AH
 6046:	  0B66	D2 7A		SETB 07AH
 6047:	  0B68	20 7A F2	JB 07AH, LABEL_JB_152
 6048:	  0B6B	75 90 FE	BACK_JB_152: MOV P1, #0FEH
 6049:
 6050:
 6051:
 6052:
 6053:
 6054:
 6055:
 6056:
 6057:
 6058:
 6059:
 6060:
 6061:
 6062:
 6063:
 6064:
 6065:
 6066:
 6067:
 6068:
 6069:
 6070:
 6071:
 6072:
 6073:
 6074:
 6075:
 6076:
 6077:
 6078:
 6079:
 6080:
 6081:	  0B6E	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 6082:	  0B71	75 90 50	MOV P1, #050H
 6083:	  0B74	75 90 C9	MOV P1, #0C9H
 6084:	  0B77	90 C9 50	MOV DPTR,  #0C950H
 6085:	  0B7A	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 6086:	  0B7D	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 6087:
 6088:
 6089:
 6090:
 6091:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 110



 Line  I  Addr  Code            Source

 6092:
 6093:
 6094:
 6095:
 6096:
 6097:
 6098:
 6099:
 6100:
 6101:
 6102:
 6103:
 6104:
 6105:
 6106:
 6107:
 6108:
 6109:
 6110:
 6111:
 6112:
 6113:
 6114:
 6115:
 6116:
 6117:
 6118:
 6119:
 6120:
 6121:	  0B80	75 90 60	MOV P1, #60H ; JZ
 6122:	  0B83	75 90 00	MOV P1, #00H
 6123:	  0B86	02 0B 8F	JMP INI_JZ_154
 6124:	  0B89	75 90 FF	LABEL_JZ_154: MOV P1, #0FFH
 6125:	  0B8C	02 0B 96	JMP BACK_JZ_154
 6126:	  0B8F	75 90 00	INI_JZ_154: MOV P1, #00H
 6127:	  0B92	74 00		MOV A, #00H
 6128:	  0B94	60 F3		JZ LABEL_JZ_154
 6129:	  0B96	75 90 FE	BACK_JZ_154: MOV P1, #0FEH
 6130:
 6131:
 6132:
 6133:
 6134:
 6135:
 6136:
 6137:
 6138:
 6139:
 6140:
 6141:
 6142:
 6143:
 6144:
 6145:
 6146:
 6147:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 111



 Line  I  Addr  Code            Source

 6148:
 6149:
 6150:
 6151:
 6152:
 6153:
 6154:
 6155:
 6156:
 6157:
 6158:
 6159:
 6160:
 6161:	  0B99	75 90 20	MOV P1, #20H ; JB and SETB
 6162:	  0B9C	02 0B A5	JMP INI_JB_155
 6163:	  0B9F	75 90 FF	LABEL_JB_155: MOV P1, #0FFH
 6164:	  0BA2	02 0B AD	JMP BACK_JB_155
 6165:	  0BA5	75 90 18	INI_JB_155: MOV P1, #018H
 6166:	  0BA8	D2 18		SETB 018H
 6167:	  0BAA	20 18 F2	JB 018H, LABEL_JB_155
 6168:	  0BAD	75 90 FE	BACK_JB_155: MOV P1, #0FEH
 6169:
 6170:
 6171:
 6172:
 6173:
 6174:
 6175:
 6176:
 6177:
 6178:
 6179:
 6180:
 6181:
 6182:
 6183:
 6184:
 6185:
 6186:
 6187:
 6188:
 6189:
 6190:
 6191:
 6192:
 6193:
 6194:
 6195:
 6196:
 6197:
 6198:
 6199:
 6200:
 6201:	  0BB0	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 6202:	  0BB3	75 90 95	MOV P1, #095H
 6203:	  0BB6	75 90 7B	MOV P1, #07BH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 112



 Line  I  Addr  Code            Source

 6204:	  0BB9	74 95		MOV A,  #095H
 6205:	  0BBB	75 F0 7B	MOV B,  #07BH
 6206:	  0BBE	A4		MUL AB
 6207:	  0BBF	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 6208:	  0BC1	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 6209:
 6210:
 6211:
 6212:
 6213:
 6214:
 6215:
 6216:
 6217:
 6218:
 6219:
 6220:
 6221:
 6222:
 6223:
 6224:
 6225:
 6226:
 6227:
 6228:
 6229:
 6230:
 6231:
 6232:
 6233:
 6234:
 6235:
 6236:
 6237:
 6238:
 6239:
 6240:
 6241:	  0BC4	75 90 D0	MOV P1, #0D0H ; POP
 6242:	  0BC7	75 90 76	MOV P1, #076H
 6243:	  0BCA	75 90 AE	MOV P1, #0AEH
 6244:	  0BCD	85 81 90	MOV P1, SP             ; get actual SP
 6245:	  0BD0	D0 76		POP 076H
 6246:	  0BD2	85 81 90	MOV P1, SP             ; Check SP - 5 cycles - SP anterior - 1
 6247:	  0BD5	A8 81		MOV R0, SP
 6248:	  0BD7	76 AE		MOV @R0, #0AEH
 6249:	  0BD9	86 90		MOV P1, @R0            ; get actual value
 6250:	  0BDB	85 76 90	MOV P1, 076H; compare values - 8 cycles
 6251:
 6252:
 6253:
 6254:
 6255:
 6256:
 6257:
 6258:
 6259:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 113



 Line  I  Addr  Code            Source

 6260:
 6261:
 6262:
 6263:
 6264:
 6265:
 6266:
 6267:
 6268:
 6269:
 6270:
 6271:
 6272:
 6273:
 6274:
 6275:
 6276:
 6277:
 6278:
 6279:
 6280:
 6281:	  0BDE	75 90 C7	MOV P1, #0C7H ; XCH_A_ATR1
 6282:	  0BE1	75 90 B7	MOV P1, #0B7H
 6283:	  0BE4	75 90 2B	MOV P1, #02BH
 6284:	  0BE7	75 90 E5	MOV P1, #0E5H
 6285:	  0BEA	74 B7		MOV A, #0B7H
 6286:	  0BEC	79 2B		MOV R1, #02BH
 6287:	  0BEE	75 2B E5	MOV 02BH, #0E5H
 6288:	  0BF1	C7		XCH  A, @R1      ; A = dado de @R1, @R1 = dado de A
 6289:	  0BF2	F5 90		MOV P1, A          ; Check in 9 cycles - A with previous value of @R1
 6290:	  0BF4	87 90		MOV P1, @R1     ; Check in 10 cycles - @R1 with previous value of A
 6291:
 6292:
 6293:
 6294:
 6295:
 6296:
 6297:
 6298:
 6299:
 6300:
 6301:
 6302:
 6303:
 6304:
 6305:
 6306:
 6307:
 6308:
 6309:
 6310:
 6311:
 6312:
 6313:
 6314:
 6315:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 114



 Line  I  Addr  Code            Source

 6316:
 6317:
 6318:
 6319:
 6320:
 6321:	  0BF6	75 90 16	MOV P1, #016H ; DEC_R0
 6322:	  0BF9	75 90 4A	MOV P1, #04AH
 6323:	  0BFC	75 90 CF	MOV P1, #0CFH
 6324:	  0BFF	78 4A		MOV R0, #04AH
 6325:	  0C01	75 4A CF	MOV 04AH, #0CFH
 6326:	  0C04	16		DEC @R0
 6327:	  0C05	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 6328:
 6329:
 6330:
 6331:
 6332:
 6333:
 6334:
 6335:
 6336:
 6337:
 6338:
 6339:
 6340:
 6341:
 6342:
 6343:
 6344:
 6345:
 6346:
 6347:
 6348:
 6349:
 6350:
 6351:
 6352:
 6353:
 6354:
 6355:
 6356:
 6357:
 6358:
 6359:
 6360:
 6361:	  0C07	75 90 03	MOV P1, #003H ; RR_A
 6362:	  0C0A	74 D8		MOV A, #0D8H
 6363:	  0C0C	75 90 D8	MOV P1, #0D8H
 6364:	  0C0F	03		RR A
 6365:	  0C10	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 6366:
 6367:
 6368:
 6369:
 6370:
 6371:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 115



 Line  I  Addr  Code            Source

 6372:
 6373:
 6374:
 6375:
 6376:
 6377:
 6378:
 6379:
 6380:
 6381:
 6382:
 6383:
 6384:
 6385:
 6386:
 6387:
 6388:
 6389:
 6390:
 6391:
 6392:
 6393:
 6394:
 6395:
 6396:
 6397:
 6398:
 6399:
 6400:
 6401:	  0C12	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 6402:	  0C15	75 90 3F	MOV P1, #03FH
 6403:	  0C18	75 90 3E	MOV P1, #03EH
 6404:	  0C1B	75 3F 3E	MOV 03FH, #03EH
 6405:	  0C1E	00		LABEL_DJNZ_161: NOP
 6406:	  0C1F	D5 3F FC	DJNZ 03FH, LABEL_DJNZ_161; loop nop data_1 times
 6407:	  0C22	85 3F 90	MOV P1, 03FH ; Check in 10 cycles - P1 must have previous P1 -1
 6408:
 6409:
 6410:
 6411:
 6412:
 6413:
 6414:
 6415:
 6416:
 6417:
 6418:
 6419:
 6420:
 6421:
 6422:
 6423:
 6424:
 6425:
 6426:
 6427:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 116



 Line  I  Addr  Code            Source

 6428:
 6429:
 6430:
 6431:
 6432:
 6433:
 6434:
 6435:
 6436:
 6437:
 6438:
 6439:
 6440:
 6441:	  0C25	75 90 23	MOV P1, #023H ; RL_A
 6442:	  0C28	75 90 6C	MOV P1, #06CH
 6443:	  0C2B	74 6C		MOV A, #06CH
 6444:	  0C2D	23		RL A
 6445:	  0C2E	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated left
 6446:
 6447:
 6448:
 6449:
 6450:
 6451:
 6452:
 6453:
 6454:
 6455:
 6456:
 6457:
 6458:
 6459:
 6460:
 6461:
 6462:
 6463:
 6464:
 6465:
 6466:
 6467:
 6468:
 6469:
 6470:
 6471:
 6472:
 6473:
 6474:
 6475:
 6476:
 6477:
 6478:
 6479:
 6480:
 6481:	  0C30	75 90 05	MOV P1, #05H ; INC_D
 6482:	  0C33	75 90 64	MOV P1, #064H
 6483:	  0C36	74 64		MOV A, #064H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 117



 Line  I  Addr  Code            Source

 6484:	  0C38	04		INC A
 6485:	  0C39	F5 90		MOV P1, A
 6486:
 6487:
 6488:
 6489:
 6490:
 6491:
 6492:
 6493:
 6494:
 6495:
 6496:
 6497:
 6498:
 6499:
 6500:
 6501:
 6502:
 6503:
 6504:
 6505:
 6506:
 6507:
 6508:
 6509:
 6510:
 6511:
 6512:
 6513:
 6514:
 6515:
 6516:
 6517:
 6518:
 6519:
 6520:
 6521:	  0C3B	75 90 94	MOV P1, #094H ; SUBB_A_DATA
 6522:	  0C3E	75 90 90	MOV P1, #090H
 6523:	  0C41	75 90 4B	MOV P1, #04BH
 6524:	  0C44	74 90		MOV A,  #090H
 6525:	  0C46	94 4B		SUBB A,  #04BH
 6526:	  0C48	F5 90		MOV P1, A               ; Check P1 - 6 cycles - operand2 - operand3
 6527:
 6528:
 6529:
 6530:
 6531:
 6532:
 6533:
 6534:
 6535:
 6536:
 6537:
 6538:
 6539:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 118



 Line  I  Addr  Code            Source

 6540:
 6541:
 6542:
 6543:
 6544:
 6545:
 6546:
 6547:
 6548:
 6549:
 6550:
 6551:
 6552:
 6553:
 6554:
 6555:
 6556:
 6557:
 6558:
 6559:
 6560:
 6561:	  0C4A	75 90 C4	MOV P1, #0C4H ; SWAP_A
 6562:	  0C4D	75 90 67	MOV P1, #067H
 6563:	  0C50	74 67		MOV A,  #067H
 6564:	  0C52	C4		SWAP A
 6565:	  0C53	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 6566:
 6567:
 6568:
 6569:
 6570:
 6571:
 6572:
 6573:
 6574:
 6575:
 6576:
 6577:
 6578:
 6579:
 6580:
 6581:
 6582:
 6583:
 6584:
 6585:
 6586:
 6587:
 6588:
 6589:
 6590:
 6591:
 6592:
 6593:
 6594:
 6595:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 119



 Line  I  Addr  Code            Source

 6596:
 6597:
 6598:
 6599:
 6600:
 6601:	  0C55	75 90 16	MOV P1, #016H ; DEC_R0
 6602:	  0C58	75 90 3B	MOV P1, #03BH
 6603:	  0C5B	75 90 1D	MOV P1, #01DH
 6604:	  0C5E	78 3B		MOV R0, #03BH
 6605:	  0C60	75 3B 1D	MOV 03BH, #01DH
 6606:	  0C63	16		DEC @R0
 6607:	  0C64	86 90		MOV P1, @R0 ;check (operand2 - 1) -> 7 cycles
 6608:
 6609:
 6610:
 6611:
 6612:
 6613:
 6614:
 6615:
 6616:
 6617:
 6618:
 6619:
 6620:
 6621:
 6622:
 6623:
 6624:
 6625:
 6626:
 6627:
 6628:
 6629:
 6630:
 6631:
 6632:
 6633:
 6634:
 6635:
 6636:
 6637:
 6638:
 6639:
 6640:
 6641:	  0C66	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 6642:	  0C69	75 90 BB	MOV P1, #0BBH
 6643:	  0C6C	02 0C 75	JMP INI_JNB_167
 6644:	  0C6F	75 90 FF	LABEL_JNB_167: MOV P1, #0FFH
 6645:	  0C72	02 0C 7D	JMP BACK_JNB_167
 6646:	  0C75	75 90 24	INI_JNB_167: MOV P1, #024H
 6647:	  0C78	C2 24		CLR 024H
 6648:	  0C7A	30 24 F2	JNB 024H, LABEL_JNB_167
 6649:	  0C7D	75 90 FE	BACK_JNB_167: MOV P1, #0FEH
 6650:
 6651:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 120



 Line  I  Addr  Code            Source

 6652:
 6653:
 6654:
 6655:
 6656:
 6657:
 6658:
 6659:
 6660:
 6661:
 6662:
 6663:
 6664:
 6665:
 6666:
 6667:
 6668:
 6669:
 6670:
 6671:
 6672:
 6673:
 6674:
 6675:
 6676:
 6677:
 6678:
 6679:
 6680:
 6681:	  0C80	75 90 C4	MOV P1, #0C4H ; SWAP_A
 6682:	  0C83	75 90 01	MOV P1, #01H
 6683:	  0C86	74 01		MOV A,  #01H
 6684:	  0C88	C4		SWAP A
 6685:	  0C89	F5 90		MOV P1, A               ; check A - 5 cycle - change nibbles
 6686:
 6687:
 6688:
 6689:
 6690:
 6691:
 6692:
 6693:
 6694:
 6695:
 6696:
 6697:
 6698:
 6699:
 6700:
 6701:
 6702:
 6703:
 6704:
 6705:
 6706:
 6707:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 121



 Line  I  Addr  Code            Source

 6708:
 6709:
 6710:
 6711:
 6712:
 6713:
 6714:
 6715:
 6716:
 6717:
 6718:
 6719:
 6720:
 6721:	  0C8B	75 90 D5	MOV P1, #0D5H ; DJNZ_D
 6722:	  0C8E	75 90 48	MOV P1, #048H
 6723:	  0C91	75 90 60	MOV P1, #060H
 6724:	  0C94	75 48 60	MOV 048H, #060H
 6725:	  0C97	00		LABEL_DJNZ_169: NOP
 6726:	  0C98	D5 48 FC	DJNZ 048H, LABEL_DJNZ_169; loop nop data_1 times
 6727:	  0C9B	85 48 90	MOV P1, 048H ; Check in 10 cycles - P1 must have previous P1 -1
 6728:	  0C9E	75 90 12	MOV P1, #012H ; CALL
 6729:	  0CA1	12 00 44	CALL LABEL_CALL
 6730:	  0CA4	75 90 FE	MOV P1, #0FEH ; RET - back from ACALL
 6731:	  0CA7	75 90 E0	MOV P1, #0E0H ; MOVX_A_ATDPTR
 6732:	  0CAA	85 82 90	MOV P1, DPL
 6733:	  0CAD	85 83 90	MOV P1, DPH
 6734:	  0CB0	E0		MOVX A, @DPTR
 6735:	  0CB1	F5 90		MOV P1, A
 6736:
 6737:
 6738:
 6739:
 6740:
 6741:
 6742:
 6743:
 6744:
 6745:
 6746:
 6747:
 6748:
 6749:
 6750:
 6751:
 6752:
 6753:
 6754:
 6755:
 6756:
 6757:
 6758:
 6759:
 6760:
 6761:	  0CB3	75 90 10	MOV P1, #10H ; JBC
 6762:	  0CB6	02 0C BF	JMP INI_JBC_170
 6763:	  0CB9	75 90 FF	LABEL_JBC_170: MOV P1, #0FFH ; inform JMP OK

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 122



 Line  I  Addr  Code            Source

 6764:	  0CBC	02 0C CE	JMP BACK_JBC_170
 6765:	  0CBF	75 90 2E	INI_JBC_170: MOV P1, #02EH
 6766:	  0CC2	75 90 73	MOV P1, #073H
 6767:	  0CC5	75 90 03	MOV P1, #03H
 6768:	  0CC8	75 2E 03	MOV 02EH, #03H
 6769:	  0CCB	10 73 EB	JBC 073H, LABEL_JBC_170
 6770:	  0CCE	75 90 FE	BACK_JBC_170: MOV P1, #0FEH ; inform JMP BACK OK
 6771:
 6772:
 6773:
 6774:
 6775:
 6776:
 6777:
 6778:
 6779:
 6780:
 6781:
 6782:
 6783:
 6784:
 6785:
 6786:
 6787:
 6788:
 6789:
 6790:
 6791:
 6792:
 6793:
 6794:
 6795:
 6796:
 6797:
 6798:
 6799:
 6800:
 6801:	  0CD1	75 90 A4	MOV P1, #0A4H ; MUL_A_B
 6802:	  0CD4	75 90 CE	MOV P1, #0CEH
 6803:	  0CD7	75 90 18	MOV P1, #018H
 6804:	  0CDA	74 CE		MOV A,  #0CEH
 6805:	  0CDC	75 F0 18	MOV B,  #018H
 6806:	  0CDF	A4		MUL AB
 6807:	  0CE0	F5 90		MOV P1, A               ; Check A = lsb - 8 cycles
 6808:	  0CE2	85 F0 90	MOV P1, B               ; Check B = msb - 1 cycles
 6809:
 6810:
 6811:
 6812:
 6813:
 6814:
 6815:
 6816:
 6817:
 6818:
 6819:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 123



 Line  I  Addr  Code            Source

 6820:
 6821:
 6822:
 6823:
 6824:
 6825:
 6826:
 6827:
 6828:
 6829:
 6830:
 6831:
 6832:
 6833:
 6834:
 6835:
 6836:
 6837:
 6838:
 6839:
 6840:
 6841:	  0CE5	75 90 94	MOV P1, #094H ; SUBB_A_DATA
 6842:	  0CE8	75 90 60	MOV P1, #060H
 6843:	  0CEB	75 90 88	MOV P1, #088H
 6844:	  0CEE	74 60		MOV A,  #060H
 6845:	  0CF0	94 88		SUBB A,  #088H
 6846:	  0CF2	F5 90		MOV P1, A               ; Check P1 - 6 cycles - operand2 - operand3
 6847:
 6848:
 6849:
 6850:
 6851:
 6852:
 6853:
 6854:
 6855:
 6856:
 6857:
 6858:
 6859:
 6860:
 6861:
 6862:
 6863:
 6864:
 6865:
 6866:
 6867:
 6868:
 6869:
 6870:
 6871:
 6872:
 6873:
 6874:
 6875:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 124



 Line  I  Addr  Code            Source

 6876:
 6877:
 6878:
 6879:
 6880:
 6881:	  0CF4	75 90 D4	MOV P1, #0D4H ; DA_A
 6882:	  0CF7	75 90 1C	MOV P1, #01CH
 6883:	  0CFA	85 D0 90	MOV P1, PSW
 6884:	  0CFD	74 1C		MOV A, #01CH
 6885:	  0CFF	D4		DA A
 6886:	  0D00	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 6887:
 6888:
 6889:
 6890:
 6891:
 6892:
 6893:
 6894:
 6895:
 6896:
 6897:
 6898:
 6899:
 6900:
 6901:
 6902:
 6903:
 6904:
 6905:
 6906:
 6907:
 6908:
 6909:
 6910:
 6911:
 6912:
 6913:
 6914:
 6915:
 6916:
 6917:
 6918:
 6919:
 6920:
 6921:	  0D02	75 90 C0	MOV P1, #0C0H ; PUSH
 6922:	  0D05	75 90 38	MOV P1, #038H
 6923:	  0D08	75 90 47	MOV P1, #047H
 6924:	  0D0B	85 81 90	MOV P1, SP             ; get actual SP
 6925:	  0D0E	A9 81		MOV R1, SP             ; save actual SP
 6926:	  0D10	75 38 47	MOV 038H, #047H
 6927:	  0D13	C0 38		PUSH 038H
 6928:	  0D15	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 6929:	  0D18	87 90		MOV P1, @R1
 6930:
 6931:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 125



 Line  I  Addr  Code            Source

 6932:
 6933:
 6934:
 6935:
 6936:
 6937:
 6938:
 6939:
 6940:
 6941:
 6942:
 6943:
 6944:
 6945:
 6946:
 6947:
 6948:
 6949:
 6950:
 6951:
 6952:
 6953:
 6954:
 6955:
 6956:
 6957:
 6958:
 6959:
 6960:
 6961:	  0D1A	75 90 24	MOV P1, #024H ; ADD_A_DATA
 6962:	  0D1D	75 90 1B	MOV P1, #01BH
 6963:	  0D20	75 90 4A	MOV P1, #04AH
 6964:	  0D23	74 1B		MOV  A,  #01BH
 6965:	  0D25	24 4A		ADD  A,  #04AH
 6966:	  0D27	F5 90		MOV P1, A; check (operand2 + operand3) -> 6 cycles
 6967:
 6968:
 6969:
 6970:
 6971:
 6972:
 6973:
 6974:
 6975:
 6976:
 6977:
 6978:
 6979:
 6980:
 6981:
 6982:
 6983:
 6984:
 6985:
 6986:
 6987:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 126



 Line  I  Addr  Code            Source

 6988:
 6989:
 6990:
 6991:
 6992:
 6993:
 6994:
 6995:
 6996:
 6997:
 6998:
 6999:
 7000:
 7001:	  0D29	75 90 F4	MOV P1, #0F4H ; CPL_A
 7002:	  0D2C	F5 90		MOV P1, A
 7003:	  0D2E	F4		CPL A
 7004:	  0D2F	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have NOT A
 7005:
 7006:
 7007:
 7008:
 7009:
 7010:
 7011:
 7012:
 7013:
 7014:
 7015:
 7016:
 7017:
 7018:
 7019:
 7020:
 7021:
 7022:
 7023:
 7024:
 7025:
 7026:
 7027:
 7028:
 7029:
 7030:
 7031:
 7032:
 7033:
 7034:
 7035:
 7036:
 7037:
 7038:
 7039:
 7040:
 7041:	  0D31	75 90 10	MOV P1, #10H ; JBC
 7042:	  0D34	02 0D 3D	JMP INI_JBC_177
 7043:	  0D37	75 90 FF	LABEL_JBC_177: MOV P1, #0FFH ; inform JMP OK

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 127



 Line  I  Addr  Code            Source

 7044:	  0D3A	02 0D 4C	JMP BACK_JBC_177
 7045:	  0D3D	75 90 22	INI_JBC_177: MOV P1, #022H
 7046:	  0D40	75 90 14	MOV P1, #014H
 7047:	  0D43	75 90 97	MOV P1, #097H
 7048:	  0D46	75 22 97	MOV 022H, #097H
 7049:	  0D49	10 14 EB	JBC 014H, LABEL_JBC_177
 7050:	  0D4C	75 90 FE	BACK_JBC_177: MOV P1, #0FEH ; inform JMP BACK OK
 7051:
 7052:
 7053:
 7054:
 7055:
 7056:
 7057:
 7058:
 7059:
 7060:
 7061:
 7062:
 7063:
 7064:
 7065:
 7066:
 7067:
 7068:
 7069:
 7070:
 7071:
 7072:
 7073:
 7074:
 7075:
 7076:
 7077:
 7078:
 7079:
 7080:
 7081:	  0D4F	75 90 70	MOV P1, #70H ; JNZ
 7082:	  0D52	75 90 57	MOV P1, #057H
 7083:	  0D55	02 0D 5E	JMP INI_JNZ_178
 7084:	  0D58	75 90 FF	LABEL_JNZ_178: MOV P1, #0FFH
 7085:	  0D5B	02 0D 65	JMP BACK_JNZ_178
 7086:	  0D5E	75 90 57	INI_JNZ_178: MOV P1, #057H
 7087:	  0D61	74 57		MOV A, #057H
 7088:	  0D63	70 F3		JNZ LABEL_JNZ_178
 7089:	  0D65	75 90 FE	BACK_JNZ_178: MOV P1, #0FEH
 7090:
 7091:
 7092:
 7093:
 7094:
 7095:
 7096:
 7097:
 7098:
 7099:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 128



 Line  I  Addr  Code            Source

 7100:
 7101:
 7102:
 7103:
 7104:
 7105:
 7106:
 7107:
 7108:
 7109:
 7110:
 7111:
 7112:
 7113:
 7114:
 7115:
 7116:
 7117:
 7118:
 7119:
 7120:
 7121:	  0D68	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 7122:	  0D6B	75 90 BD	MOV P1, #0BDH
 7123:	  0D6E	75 90 5E	MOV P1, #05EH
 7124:	  0D71	75 90 06	MOV P1, #06H
 7125:	  0D74	74 BD		MOV A, #0BDH
 7126:	  0D76	78 5E		MOV R0, #05EH
 7127:	  0D78	75 5E 06	MOV 05EH, #06H
 7128:	  0D7B	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 7129:	  0D7C	F5 90		MOV P1, A                ; Check in 9 cycles
 7130:	  0D7E	86 90		MOV P1, @R0           ; Check in 10 cycles
 7131:
 7132:
 7133:
 7134:
 7135:
 7136:
 7137:
 7138:
 7139:
 7140:
 7141:
 7142:
 7143:
 7144:
 7145:
 7146:
 7147:
 7148:
 7149:
 7150:
 7151:
 7152:
 7153:
 7154:
 7155:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 129



 Line  I  Addr  Code            Source

 7156:
 7157:
 7158:
 7159:
 7160:
 7161:	  0D80	75 90 30	MOV P1, #30H ; JNB and CLR (bit)
 7162:	  0D83	75 90 CB	MOV P1, #0CBH
 7163:	  0D86	02 0D 8F	JMP INI_JNB_180
 7164:	  0D89	75 90 FF	LABEL_JNB_180: MOV P1, #0FFH
 7165:	  0D8C	02 0D 97	JMP BACK_JNB_180
 7166:	  0D8F	75 90 55	INI_JNB_180: MOV P1, #055H
 7167:	  0D92	C2 55		CLR 055H
 7168:	  0D94	30 55 F2	JNB 055H, LABEL_JNB_180
 7169:	  0D97	75 90 FE	BACK_JNB_180: MOV P1, #0FEH
 7170:
 7171:
 7172:
 7173:
 7174:
 7175:
 7176:
 7177:
 7178:
 7179:
 7180:
 7181:
 7182:
 7183:
 7184:
 7185:
 7186:
 7187:
 7188:
 7189:
 7190:
 7191:
 7192:
 7193:
 7194:
 7195:
 7196:
 7197:
 7198:
 7199:
 7200:
 7201:	  0D9A	75 90 60	MOV P1, #60H ; JZ
 7202:	  0D9D	75 90 00	MOV P1, #00H
 7203:	  0DA0	02 0D A9	JMP INI_JZ_181
 7204:	  0DA3	75 90 FF	LABEL_JZ_181: MOV P1, #0FFH
 7205:	  0DA6	02 0D B0	JMP BACK_JZ_181
 7206:	  0DA9	75 90 00	INI_JZ_181: MOV P1, #00H
 7207:	  0DAC	74 00		MOV A, #00H
 7208:	  0DAE	60 F3		JZ LABEL_JZ_181
 7209:	  0DB0	75 90 FE	BACK_JZ_181: MOV P1, #0FEH
 7210:
 7211:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 130



 Line  I  Addr  Code            Source

 7212:
 7213:
 7214:
 7215:
 7216:
 7217:
 7218:
 7219:
 7220:
 7221:
 7222:
 7223:
 7224:
 7225:
 7226:
 7227:
 7228:
 7229:
 7230:
 7231:
 7232:
 7233:
 7234:
 7235:
 7236:
 7237:
 7238:
 7239:
 7240:
 7241:	  0DB3	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 7242:	  0DB6	75 90 08	MOV P1, #08H
 7243:	  0DB9	74 08		MOV A, #08H
 7244:	  0DBB	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 7245:	  0DBC	F5 90		MOV P1, A
 7246:
 7247:
 7248:
 7249:
 7250:
 7251:
 7252:
 7253:
 7254:
 7255:
 7256:
 7257:
 7258:
 7259:
 7260:
 7261:
 7262:
 7263:
 7264:
 7265:
 7266:
 7267:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 131



 Line  I  Addr  Code            Source

 7268:
 7269:
 7270:
 7271:
 7272:
 7273:
 7274:
 7275:
 7276:
 7277:
 7278:
 7279:
 7280:
 7281:	  0DBE	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 7282:	  0DC1	75 90 67	MOV P1, #067H
 7283:	  0DC4	74 67		MOV A, #067H
 7284:	  0DC6	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 7285:	  0DC7	F5 90		MOV P1, A
 7286:
 7287:
 7288:
 7289:
 7290:
 7291:
 7292:
 7293:
 7294:
 7295:
 7296:
 7297:
 7298:
 7299:
 7300:
 7301:
 7302:
 7303:
 7304:
 7305:
 7306:
 7307:
 7308:
 7309:
 7310:
 7311:
 7312:
 7313:
 7314:
 7315:
 7316:
 7317:
 7318:
 7319:
 7320:
 7321:	  0DC9	75 90 D6	MOV P1, #0D6H ; XCHD_A_ATR0
 7322:	  0DCC	75 90 8E	MOV P1, #08EH
 7323:	  0DCF	75 90 39	MOV P1, #039H

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 132



 Line  I  Addr  Code            Source

 7324:	  0DD2	75 90 CB	MOV P1, #0CBH
 7325:	  0DD5	74 8E		MOV A, #08EH
 7326:	  0DD7	78 39		MOV R0, #039H
 7327:	  0DD9	75 39 CB	MOV 039H, #0CBH
 7328:	  0DDC	D6		XCHD  A, @R0         ; A[3:0] = dado @R0[3:0], @R0[3:0] = dado A[3:0]
 7329:	  0DDD	F5 90		MOV P1, A                ; Check in 9 cycles
 7330:	  0DDF	86 90		MOV P1, @R0           ; Check in 10 cycles
 7331:
 7332:
 7333:
 7334:
 7335:
 7336:
 7337:
 7338:
 7339:
 7340:
 7341:
 7342:
 7343:
 7344:
 7345:
 7346:
 7347:
 7348:
 7349:
 7350:
 7351:
 7352:
 7353:
 7354:
 7355:
 7356:
 7357:
 7358:
 7359:
 7360:
 7361:	  0DE1	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 7362:	  0DE4	75 90 82	MOV P1, #082H
 7363:	  0DE7	74 82		MOV A, #082H
 7364:	  0DE9	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 7365:	  0DEA	F5 90		MOV P1, A
 7366:
 7367:
 7368:
 7369:
 7370:
 7371:
 7372:
 7373:
 7374:
 7375:
 7376:
 7377:
 7378:
 7379:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 133



 Line  I  Addr  Code            Source

 7380:
 7381:
 7382:
 7383:
 7384:
 7385:
 7386:
 7387:
 7388:
 7389:
 7390:
 7391:
 7392:
 7393:
 7394:
 7395:
 7396:
 7397:
 7398:
 7399:
 7400:
 7401:	  0DEC	75 90 72	MOV P1, #072H ; ORL_C_BIT
 7402:	  0DEF	75 90 28	MOV P1, #028H
 7403:	  0DF2	75 90 34	MOV P1, #034H
 7404:	  0DF5	75 90 44	MOV P1, #044H
 7405:	  0DF8	85 D0 90	MOV P1, PSW
 7406:	  0DFB	75 28 34	MOV 028H,  #034H
 7407:	  0DFE	72 44		ORL  C,  044H
 7408:	  0E00	85 D0 90	MOV P1,  0D0H ;check (C or operand2) -> 7 cycles
 7409:
 7410:
 7411:
 7412:
 7413:
 7414:
 7415:
 7416:
 7417:
 7418:
 7419:
 7420:
 7421:
 7422:
 7423:
 7424:
 7425:
 7426:
 7427:
 7428:
 7429:
 7430:
 7431:
 7432:
 7433:
 7434:
 7435:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 134



 Line  I  Addr  Code            Source

 7436:
 7437:
 7438:
 7439:
 7440:
 7441:	  0E03	75 90 03	MOV P1, #003H ; RR_A
 7442:	  0E06	74 67		MOV A, #067H
 7443:	  0E08	75 90 67	MOV P1, #067H
 7444:	  0E0B	03		RR A
 7445:	  0E0C	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A byte rotated
 7446:
 7447:
 7448:
 7449:
 7450:
 7451:
 7452:
 7453:
 7454:
 7455:
 7456:
 7457:
 7458:
 7459:
 7460:
 7461:
 7462:
 7463:
 7464:
 7465:
 7466:
 7467:
 7468:
 7469:
 7470:
 7471:
 7472:
 7473:
 7474:
 7475:
 7476:
 7477:
 7478:
 7479:
 7480:
 7481:	  0E0E	75 90 D4	MOV P1, #0D4H ; DA_A
 7482:	  0E11	75 90 F9	MOV P1, #0F9H
 7483:	  0E14	85 D0 90	MOV P1, PSW
 7484:	  0E17	74 F9		MOV A, #0F9H
 7485:	  0E19	D4		DA A
 7486:	  0E1A	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 7487:
 7488:
 7489:
 7490:
 7491:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 135



 Line  I  Addr  Code            Source

 7492:
 7493:
 7494:
 7495:
 7496:
 7497:
 7498:
 7499:
 7500:
 7501:
 7502:
 7503:
 7504:
 7505:
 7506:
 7507:
 7508:
 7509:
 7510:
 7511:
 7512:
 7513:
 7514:
 7515:
 7516:
 7517:
 7518:
 7519:
 7520:
 7521:	  0E1C	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 7522:	  0E1F	75 90 76	MOV P1, #076H
 7523:	  0E22	75 90 07	MOV P1, #07H
 7524:	  0E25	90 07 76	MOV DPTR,  #0776H
 7525:	  0E28	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 7526:	  0E2B	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 7527:
 7528:
 7529:
 7530:
 7531:
 7532:
 7533:
 7534:
 7535:
 7536:
 7537:
 7538:
 7539:
 7540:
 7541:
 7542:
 7543:
 7544:
 7545:
 7546:
 7547:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 136



 Line  I  Addr  Code            Source

 7548:
 7549:
 7550:
 7551:
 7552:
 7553:
 7554:
 7555:
 7556:
 7557:
 7558:
 7559:
 7560:
 7561:	  0E2E	75 90 00	MOV P1, #00H ; NOP
 7562:	  0E31	00		NOP
 7563:
 7564:
 7565:
 7566:
 7567:
 7568:
 7569:
 7570:
 7571:
 7572:
 7573:
 7574:
 7575:
 7576:
 7577:
 7578:
 7579:
 7580:
 7581:
 7582:
 7583:
 7584:
 7585:
 7586:
 7587:
 7588:
 7589:
 7590:
 7591:
 7592:
 7593:
 7594:
 7595:
 7596:
 7597:
 7598:
 7599:
 7600:
 7601:	  0E32	75 90 C0	MOV P1, #0C0H ; PUSH
 7602:	  0E35	75 90 42	MOV P1, #042H
 7603:	  0E38	75 90 AF	MOV P1, #0AFH

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 137



 Line  I  Addr  Code            Source

 7604:	  0E3B	85 81 90	MOV P1, SP             ; get actual SP
 7605:	  0E3E	A9 81		MOV R1, SP             ; save actual SP
 7606:	  0E40	75 42 AF	MOV 042H, #0AFH
 7607:	  0E43	C0 42		PUSH 042H
 7608:	  0E45	85 81 90	MOV P1, SP             ; check SP - 8 cycles - tem que ser SP anterior + 1
 7609:	  0E48	87 90		MOV P1, @R1
 7610:
 7611:
 7612:
 7613:
 7614:
 7615:
 7616:
 7617:
 7618:
 7619:
 7620:
 7621:
 7622:
 7623:
 7624:
 7625:
 7626:
 7627:
 7628:
 7629:
 7630:
 7631:
 7632:
 7633:
 7634:
 7635:
 7636:
 7637:
 7638:
 7639:
 7640:
 7641:	  0E4A	75 90 83	MOV P1, #083H; MOVC_A_ATPC
 7642:	  0E4D	75 90 A4	MOV P1, #0A4H
 7643:	  0E50	74 A4		MOV A, #0A4H
 7644:	  0E52	83		MOVC A, @A+PC ; Check A+PC = 01h + 09h = 0Ah
 7645:	  0E53	F5 90		MOV P1, A
 7646:
 7647:
 7648:
 7649:
 7650:
 7651:
 7652:
 7653:
 7654:
 7655:
 7656:
 7657:
 7658:
 7659:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 138



 Line  I  Addr  Code            Source

 7660:
 7661:
 7662:
 7663:
 7664:
 7665:
 7666:
 7667:
 7668:
 7669:
 7670:
 7671:
 7672:
 7673:
 7674:
 7675:
 7676:
 7677:
 7678:
 7679:
 7680:
 7681:	  0E55	75 90 45	MOV P1, #045H ; ORL_A_D
 7682:	  0E58	75 90 5C	MOV P1, #05CH
 7683:	  0E5B	75 90 44	MOV P1, #044H
 7684:	  0E5E	75 90 E3	MOV P1, #0E3H
 7685:	  0E61	74 5C		MOV  A,  #05CH
 7686:	  0E63	75 E3 44	MOV 0E3H, #044H
 7687:	  0E66	45 E3		ORL  A,  0E3H
 7688:	  0E68	F5 90		MOV P1,  A ;check (operand2 or operand3) -> 8 cycles
 7689:
 7690:
 7691:
 7692:
 7693:
 7694:
 7695:
 7696:
 7697:
 7698:
 7699:
 7700:
 7701:
 7702:
 7703:
 7704:
 7705:
 7706:
 7707:
 7708:
 7709:
 7710:
 7711:
 7712:
 7713:
 7714:
 7715:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 139



 Line  I  Addr  Code            Source

 7716:
 7717:
 7718:
 7719:
 7720:
 7721:	  0E6A	75 90 90	MOV P1, #090H ; MOV_DPTR_DATA
 7722:	  0E6D	75 90 8C	MOV P1, #08CH
 7723:	  0E70	75 90 9A	MOV P1, #09AH
 7724:	  0E73	90 9A 8C	MOV DPTR,  #09A8CH
 7725:	  0E76	85 82 90	MOV P1, DPL ; Check in 5 cycles - P1 must have data_1
 7726:	  0E79	85 83 90	MOV P1, DPH ; Check in 5 cycles - P1 must have data_2
 7727:
 7728:
 7729:
 7730:
 7731:
 7732:
 7733:
 7734:
 7735:
 7736:
 7737:
 7738:
 7739:
 7740:
 7741:
 7742:
 7743:
 7744:
 7745:
 7746:
 7747:
 7748:
 7749:
 7750:
 7751:
 7752:
 7753:
 7754:
 7755:
 7756:
 7757:
 7758:
 7759:
 7760:
 7761:	  0E7C	75 90 84	MOV P1, #084H ; DIV_A_B
 7762:	  0E7F	75 90 D8	MOV P1, #0D8H
 7763:	  0E82	75 90 21	MOV P1, #021H
 7764:	  0E85	74 D8		MOV A,  #0D8H
 7765:	  0E87	75 F0 21	MOV B,  #021H
 7766:	  0E8A	84		DIV AB
 7767:	  0E8B	F5 90		MOV P1, A               ; check A = quociente - 8 cycles
 7768:	  0E8D	85 F0 90	MOV P1, B               ; check B = rest - 1 cycle
 7769:
 7770:
 7771:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 140



 Line  I  Addr  Code            Source

 7772:
 7773:
 7774:
 7775:
 7776:
 7777:
 7778:
 7779:
 7780:
 7781:
 7782:
 7783:
 7784:
 7785:
 7786:
 7787:
 7788:
 7789:
 7790:
 7791:
 7792:
 7793:
 7794:
 7795:
 7796:
 7797:
 7798:
 7799:
 7800:
 7801:	  0E90	75 90 60	MOV P1, #60H ; JZ
 7802:	  0E93	75 90 00	MOV P1, #00H
 7803:	  0E96	02 0E 9F	JMP INI_JZ_196
 7804:	  0E99	75 90 FF	LABEL_JZ_196: MOV P1, #0FFH
 7805:	  0E9C	02 0E A6	JMP BACK_JZ_196
 7806:	  0E9F	75 90 00	INI_JZ_196: MOV P1, #00H
 7807:	  0EA2	74 00		MOV A, #00H
 7808:	  0EA4	60 F3		JZ LABEL_JZ_196
 7809:	  0EA6	75 90 FE	BACK_JZ_196: MOV P1, #0FEH
 7810:
 7811:
 7812:
 7813:
 7814:
 7815:
 7816:
 7817:
 7818:
 7819:
 7820:
 7821:
 7822:
 7823:
 7824:
 7825:
 7826:
 7827:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 141



 Line  I  Addr  Code            Source

 7828:
 7829:
 7830:
 7831:
 7832:
 7833:
 7834:
 7835:
 7836:
 7837:
 7838:
 7839:
 7840:
 7841:	  0EA9	75 90 34	MOV P1, #034H ; ADDC_A_DATA
 7842:	  0EAC	75 90 A9	MOV P1, #0A9H
 7843:	  0EAF	75 90 BB	MOV P1, #0BBH
 7844:	  0EB2	74 A9		MOV  A,  #0A9H
 7845:	  0EB4	34 BB		ADDC  A,  #0BBH
 7846:	  0EB6	F5 90		MOV P1, A               ; check A - 6 cycles
 7847:
 7848:
 7849:
 7850:
 7851:
 7852:
 7853:
 7854:
 7855:
 7856:
 7857:
 7858:
 7859:
 7860:
 7861:
 7862:
 7863:
 7864:
 7865:
 7866:
 7867:
 7868:
 7869:
 7870:
 7871:
 7872:
 7873:
 7874:
 7875:
 7876:
 7877:
 7878:
 7879:
 7880:
 7881:	  0EB8	75 90 70	MOV P1, #70H ; JNZ
 7882:	  0EBB	75 90 70	MOV P1, #070H
 7883:	  0EBE	02 0E C7	JMP INI_JNZ_198

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 142



 Line  I  Addr  Code            Source

 7884:	  0EC1	75 90 FF	LABEL_JNZ_198: MOV P1, #0FFH
 7885:	  0EC4	02 0E CE	JMP BACK_JNZ_198
 7886:	  0EC7	75 90 70	INI_JNZ_198: MOV P1, #070H
 7887:	  0ECA	74 70		MOV A, #070H
 7888:	  0ECC	70 F3		JNZ LABEL_JNZ_198
 7889:	  0ECE	75 90 FE	BACK_JNZ_198: MOV P1, #0FEH
 7890:
 7891:
 7892:
 7893:
 7894:
 7895:
 7896:
 7897:
 7898:
 7899:
 7900:
 7901:
 7902:
 7903:
 7904:
 7905:
 7906:
 7907:
 7908:
 7909:
 7910:
 7911:
 7912:
 7913:
 7914:
 7915:
 7916:
 7917:
 7918:
 7919:
 7920:
 7921:	  0ED1	75 90 D4	MOV P1, #0D4H ; DA_A
 7922:	  0ED4	75 90 19	MOV P1, #019H
 7923:	  0ED7	85 D0 90	MOV P1, PSW
 7924:	  0EDA	74 19		MOV A, #019H
 7925:	  0EDC	D4		DA A
 7926:	  0EDD	F5 90		MOV P1,  A ; Check in 4 cycles - P1 must have A in BCD format
 7927:
 7928:
 7929:
 7930:
 7931:
 7932:
 7933:
 7934:
 7935:
 7936:
 7937:
 7938:
 7939:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 143



 Line  I  Addr  Code            Source

 7940:
 7941:
 7942:
 7943:
 7944:
 7945:
 7946:
 7947:
 7948:
 7949:
 7950:
 7951:
 7952:
 7953:
 7954:
 7955:
 7956:
 7957:
 7958:
 7959:
 7960:
 7961:	  0EDF	75 90 A8	MOV P1, #0A8H ; MOV_R0_D
 7962:	  0EE2	75 90 02	MOV P1, #02H
 7963:	  0EE5	75 90 6D	MOV P1, #06DH
 7964:	  0EE8	75 02 6D	MOV 02H, #06DH
 7965:	  0EEB	78 02		MOV R0,  #02H ; R0 must have 01h
 7966:	  0EED	88 90		MOV P1, R0             ; Check in 6 cycles
 7967:
 7968:
 7969:
 7970:
 7971:
 7972:
 7973:
 7974:
 7975:
 7976:
 7977:
 7978:
 7979:
 7980:
 7981:
 7982:
 7983:
 7984:
 7985:
 7986:
 7987:
 7988:
 7989:
 7990:
 7991:
 7992:
 7993:
 7994:
 7995:

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 144



 Line  I  Addr  Code            Source

 7996:
 7997:
 7998:
 7999:
 8000:
 8001:				END
 8002:
 8003:
 8004:
 8005:
 8006:
 8007:
 8008:
 8009:
 8010:
 8011:
 8012:
 8013:
 8014:
 8015:
 8016:
 8017:
 8018:
 8019:
 8020:
 8021:
 8022:
 8023:
 8024:
 8025:
 8026:
 8027:
 8028:
 8029:
 8030:
 8031:
 8032:
 8033:
 8034:
 8035:
 8036:
 8037:
 8038:
 8039:
 8040:





                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 145





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6
ACC				  DATA	      E0
B				  DATA	      F0
BACK_JBC_13			  CODE	    0132	 490
BACK_JBC_151			  CODE	    0B54	6010
BACK_JBC_170			  CODE	    0CCE	6770
BACK_JBC_177			  CODE	    0D4C	7050
BACK_JBC_25			  CODE	    0214	 970
BACK_JBC_26			  CODE	    0232	1010
BACK_JB_129			  CODE	    0993	5128
BACK_JB_152			  CODE	    0B6B	6048
BACK_JB_155			  CODE	    0BAD	6168
BACK_JB_3			  CODE	    0067	  88
BACK_JB_5			  CODE	    0091	 168
BACK_JB_51			  CODE	    0404	2008
BACK_JB_76			  CODE	    05C5	3008
BACK_JNB_105			  CODE	    07F6	4169
BACK_JNB_115			  CODE	    08B1	4569
BACK_JNB_116			  CODE	    08CB	4609
BACK_JNB_167			  CODE	    0C7D	6649
BACK_JNB_180			  CODE	    0D97	7169
BACK_JNB_71			  CODE	    055D	2809
BACK_JNZ_12			  CODE	    0114	 449
BACK_JNZ_141			  CODE	    0A94	5609
BACK_JNZ_178			  CODE	    0D65	7089
BACK_JNZ_198			  CODE	    0ECE	7889
BACK_JNZ_41			  CODE	    034B	1609
BACK_JNZ_73			  CODE	    058E	2889
BACK_JNZ_94			  CODE	    072D	3729
BACK_JZ_154			  CODE	    0B96	6129
BACK_JZ_181			  CODE	    0DB0	7209
BACK_JZ_196			  CODE	    0EA6	7809
BACK_JZ_29			  CODE	    0261	1129
BACK_JZ_81			  CODE	    062E	3209
CY				  BIT	      D7
DPH				  DATA	      83
DPL				  DATA	      82
EA				  BIT	      AF
ES				  BIT	      AC
ET0				  BIT	      A9
ET1				  BIT	      AB
EX0				  BIT	      A8
EX1				  BIT	      AA
EXTI0				  CODE	    0003
EXTI1				  CODE	    0013
F0				  BIT	      D5
IE				  DATA	      A8
IE0				  BIT	      89

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 146



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
IE1				  BIT	      8B
INI				  CODE	    0048	  12
INITIAL				  CODE	    003B	   4
INI_JBC_13			  CODE	    0123	 485
INI_JBC_151			  CODE	    0B45	6005
INI_JBC_170			  CODE	    0CBF	6765
INI_JBC_177			  CODE	    0D3D	7045
INI_JBC_25			  CODE	    0205	 965
INI_JBC_26			  CODE	    0223	1005
INI_JB_129			  CODE	    098B	5125
INI_JB_152			  CODE	    0B63	6045
INI_JB_155			  CODE	    0BA5	6165
INI_JB_3			  CODE	    005F	  85
INI_JB_5			  CODE	    0089	 165
INI_JB_51			  CODE	    03FC	2005
INI_JB_76			  CODE	    05BD	3005
INI_JNB_105			  CODE	    07EE	4166
INI_JNB_115			  CODE	    08A9	4566
INI_JNB_116			  CODE	    08C3	4606
INI_JNB_167			  CODE	    0C75	6646
INI_JNB_180			  CODE	    0D8F	7166
INI_JNB_71			  CODE	    0555	2806
INI_JNZ_12			  CODE	    010D	 446
INI_JNZ_141			  CODE	    0A8D	5606
INI_JNZ_178			  CODE	    0D5E	7086
INI_JNZ_198			  CODE	    0EC7	7886
INI_JNZ_41			  CODE	    0344	1606
INI_JNZ_73			  CODE	    0587	2886
INI_JNZ_94			  CODE	    0726	3726
INI_JZ_154			  CODE	    0B8F	6126
INI_JZ_181			  CODE	    0DA9	7206
INI_JZ_196			  CODE	    0E9F	7806
INI_JZ_29			  CODE	    025A	1126
INI_JZ_81			  CODE	    0627	3206
INT0				  BIT	      B2
INT1				  BIT	      B3
IP				  DATA	      B8
IT0				  BIT	      88
IT1				  BIT	      8A
JMP_BACK			  CODE	    0050	  43
LABEL_CALL			  CODE	    0044	   9
LABEL_DJNZ_131			  CODE	    09B2	5205
LABEL_DJNZ_137			  CODE	    0A37	5445
LABEL_DJNZ_161			  CODE	    0C1E	6405
LABEL_DJNZ_169			  CODE	    0C97	6725
LABEL_DJNZ_21			  CODE	    01B3	 805
LABEL_DJNZ_30			  CODE	    0270	1165
LABEL_DJNZ_4			  CODE	    0076	 125
LABEL_DJNZ_90			  CODE	    06CB	3565
LABEL_DJNZ_97			  CODE	    076C	3845
LABEL_JBC_13			  CODE	    011D	 483
LABEL_JBC_151			  CODE	    0B3F	6003
LABEL_JBC_170			  CODE	    0CB9	6763
LABEL_JBC_177			  CODE	    0D37	7043
LABEL_JBC_25			  CODE	    01FF	 963
LABEL_JBC_26			  CODE	    021D	1003

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 147



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
LABEL_JB_129			  CODE	    0985	5123
LABEL_JB_152			  CODE	    0B5D	6043
LABEL_JB_155			  CODE	    0B9F	6163
LABEL_JB_3			  CODE	    0059	  83
LABEL_JB_5			  CODE	    0083	 163
LABEL_JB_51			  CODE	    03F6	2003
LABEL_JB_76			  CODE	    05B7	3003
LABEL_JNB_105			  CODE	    07E8	4164
LABEL_JNB_115			  CODE	    08A3	4564
LABEL_JNB_116			  CODE	    08BD	4604
LABEL_JNB_167			  CODE	    0C6F	6644
LABEL_JNB_180			  CODE	    0D89	7164
LABEL_JNB_71			  CODE	    054F	2804
LABEL_JNZ_12			  CODE	    0107	 444
LABEL_JNZ_141			  CODE	    0A87	5604
LABEL_JNZ_178			  CODE	    0D58	7084
LABEL_JNZ_198			  CODE	    0EC1	7884
LABEL_JNZ_41			  CODE	    033E	1604
LABEL_JNZ_73			  CODE	    0581	2884
LABEL_JNZ_94			  CODE	    0720	3724
LABEL_JZ_154			  CODE	    0B89	6124
LABEL_JZ_181			  CODE	    0DA3	7204
LABEL_JZ_196			  CODE	    0E99	7804
LABEL_JZ_29			  CODE	    0254	1124
LABEL_JZ_81			  CODE	    0621	3204
OV				  BIT	      D2
P				  BIT	      D0
P0				  DATA	      80
P1				  DATA	      90
P2				  DATA	      A0
P3				  DATA	      B0
PCON				  DATA	      87
PS				  BIT	      BC
PSW				  DATA	      D0
PT0				  BIT	      B9
PT1				  BIT	      BB
PX0				  BIT	      B8
PX1				  BIT	      BA
RB8				  BIT	      9A
RD				  BIT	      B7
REN				  BIT	      9C
RESET				  CODE	    0000
RI				  BIT	      98
RS0				  BIT	      D3
RS1				  BIT	      D4
RXD				  BIT	      B0
SBUF				  DATA	      99
SCON				  DATA	      98
SINT				  CODE	    0023
SM0				  BIT	      9F
SM1				  BIT	      9E
SM2				  BIT	      9D
SP				  DATA	      81
T0				  BIT	      B4
T1				  BIT	      B5
TB8				  BIT	      9B

ASEM-51 V1.3                                        Copyright (c) 2002 by W.W. Heinz                                        PAGE 148



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
TCON				  DATA	      88
TF0				  BIT	      8D
TF1				  BIT	      8F
TH0				  DATA	      8C
TH1				  DATA	      8D
TI				  BIT	      99
TIMER0				  CODE	    000B
TIMER1				  CODE	    001B
TL0				  DATA	      8A
TL1				  DATA	      8B
TMOD				  DATA	      89
TR0				  BIT	      8C
TR1				  BIT	      8E
TXD				  BIT	      B1
WR				  BIT	      B6
